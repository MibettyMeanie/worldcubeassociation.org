{"ast":null,"code":"import _isEqual from \"lodash/isEqual\";\nvar _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/PostingCompetitions/index.js\";\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { useState, useCallback } from 'react';\nimport { Button, Checkbox, Header, Segment, Table } from 'semantic-ui-react';\nimport useLoadedData from \"../../lib/hooks/useLoadedData\";\nimport useSaveAction from \"../../lib/hooks/useSaveAction\";\nimport Loading from \"../Requests/Loading\";\nimport Errored from \"../Requests/Errored\";\nimport CountryFlag from \"../wca/CountryFlag\";\nimport { adminCheckUploadedResults, adminPostingCompetitionsUrl, adminImportResultsUrl, adminStartPostingUrl, competitionUrl } from \"../../lib/requests/routes.js.erb\";\nfunction stateReducer(accumulated, current) {\n  return _objectSpread(_objectSpread({}, accumulated), {}, _defineProperty({}, current.id, current.posting_user !== undefined));\n}\nfunction checkboxesStateFromData(competitions) {\n  return competitions.reduce(stateReducer, {});\n}\nfunction PostingCompetitionsIndex(_ref) {\n  var _this = this;\n  var competitions = _ref.competitions,\n    save = _ref.save,\n    saving = _ref.saving,\n    setMessage = _ref.setMessage,\n    sync = _ref.sync;\n  var initialState = checkboxesStateFromData(competitions);\n  var _useState = useState(initialState),\n    _useState2 = _slicedToArray(_useState, 2),\n    checkboxes = _useState2[0],\n    setCheckboxes = _useState2[1];\n  var updater = useCallback(function (competitionId, value) {\n    setCheckboxes(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, competitionId, value));\n    });\n  }, [setCheckboxes]);\n\n  // We want to deactivate the form if it's saving.\n  var globalDisable = saving;\n  var handleResponse = useCallback(function (json) {\n    if (json.error) {\n      setMessage({\n        color: 'red',\n        text: json.error\n      });\n    } else {\n      setMessage({\n        color: 'green',\n        text: json.message\n      });\n      sync();\n    }\n  }, [sync, setMessage]);\n  var startPostingAction = useCallback(function () {\n    var checkedCompetitions = Object.entries(checkboxes).filter(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n        value = _ref3[1];\n      return value;\n    });\n    var competitionIds = checkedCompetitions.map(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 1),\n        key = _ref5[0];\n      return key;\n    });\n    save(adminStartPostingUrl, {\n      competition_ids: competitionIds\n    }, handleResponse, {\n      method: 'POST'\n    });\n  }, [checkboxes, handleResponse, save]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, competitions.length === 0 && /*#__PURE__*/React.createElement(Table.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table.Cell, {\n    colSpan: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"No competitions are awaiting to be posted\")), competitions.map(function (c) {\n    return /*#__PURE__*/React.createElement(Table.Row, {\n      key: c.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      as: \"h5\",\n      floated: \"left\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, c.name, /*#__PURE__*/React.createElement(Header.Subheader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, c.city, ' ', /*#__PURE__*/React.createElement(CountryFlag, {\n      iso2: c.country_iso2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Header.Subheader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, \"Submission Timestamp: \".concat(moment(c.results_submitted_at).fromNow()))), /*#__PURE__*/React.createElement(Button.Group, {\n      floated: \"right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      target: \"_blank\",\n      primary: true,\n      href: competitionUrl(c.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"Competition page\"), initialState[c.id] && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      target: \"_blank\",\n      color: \"olive\",\n      href: adminCheckUploadedResults(c.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, \"Check results page\"), /*#__PURE__*/React.createElement(Button, {\n      target: \"_blank\",\n      color: \"green\",\n      href: adminImportResultsUrl(c.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, \"Import results page\")))), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      checked: checkboxes[c.id],\n      onChange: function onChange(e, data) {\n        return updater(c.id, data.checked);\n      },\n      disabled: globalDisable || initialState[c.id],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, c.posting_user && /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, c.posting_user.name)));\n  }), /*#__PURE__*/React.createElement(Table.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table.Cell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Table.Cell, {\n    colSpan: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    positive: true\n    // We can't start posting if we're not allowed to, or if we didn't\n    // perform any change to the initial state.\n    ,\n    disabled: globalDisable || _isEqual(checkboxes, initialState),\n    onClick: startPostingAction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, \"Start posting\"))));\n}\nfunction PostingCompetitionsTable() {\n  var _useLoadedData = useLoadedData(adminPostingCompetitionsUrl),\n    data = _useLoadedData.data,\n    loading = _useLoadedData.loading,\n    error = _useLoadedData.error,\n    sync = _useLoadedData.sync;\n  var _useSaveAction = useSaveAction(),\n    save = _useSaveAction.save,\n    saving = _useSaveAction.saving;\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    message = _useState4[0],\n    setMessage = _useState4[1];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Table, {\n    celled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, \"Competition\", ' ', /*#__PURE__*/React.createElement(Button, {\n    icon: \"sync\",\n    color: \"teal\",\n    onClick: function onClick() {\n      setMessage(null);\n      sync();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, \"Posting\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, \"Poster\"))), /*#__PURE__*/React.createElement(Table.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, error && /*#__PURE__*/React.createElement(Table.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table.Cell, {\n    colSpan: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Errored, {\n    componentName: \"PostingCompetitionsIndex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }))), loading && /*#__PURE__*/React.createElement(Table.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table.Cell, {\n    colSpan: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  }))), !loading && data && /*#__PURE__*/React.createElement(PostingCompetitionsIndex, {\n    competitions: data.competitions,\n    save: save,\n    saving: saving,\n    sync: sync,\n    setMessage: setMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }))), message && /*#__PURE__*/React.createElement(Segment, {\n    color: message.color,\n    inverted: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, message.text));\n}\nexport default PostingCompetitionsTable;","map":{"version":3,"names":["React","useState","useCallback","Button","Checkbox","Header","Segment","Table","useLoadedData","useSaveAction","Loading","Errored","CountryFlag","adminCheckUploadedResults","adminPostingCompetitionsUrl","adminImportResultsUrl","adminStartPostingUrl","competitionUrl","stateReducer","accumulated","current","_objectSpread","_defineProperty","id","posting_user","undefined","checkboxesStateFromData","competitions","reduce","PostingCompetitionsIndex","_ref","_this","save","saving","setMessage","sync","initialState","_useState","_useState2","_slicedToArray","checkboxes","setCheckboxes","updater","competitionId","value","prevState","globalDisable","handleResponse","json","error","color","text","message","startPostingAction","checkedCompetitions","Object","entries","filter","_ref2","_ref3","competitionIds","map","_ref4","_ref5","key","competition_ids","method","createElement","Fragment","length","Row","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Cell","colSpan","c","as","floated","name","Subheader","city","iso2","country_iso2","concat","moment","results_submitted_at","fromNow","Group","target","primary","href","checked","onChange","e","data","disabled","positive","_isEqual","onClick","PostingCompetitionsTable","_useLoadedData","loading","_useSaveAction","_useState3","_useState4","celled","HeaderCell","icon","Body","componentName","inverted"],"sources":["/app/WcaOnRails/app/webpacker/components/PostingCompetitions/index.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\n\nimport {\n  Button, Checkbox, Header, Segment, Table,\n} from 'semantic-ui-react';\nimport _ from 'lodash';\nimport useLoadedData from '../../lib/hooks/useLoadedData';\nimport useSaveAction from '../../lib/hooks/useSaveAction';\nimport Loading from '../Requests/Loading';\nimport Errored from '../Requests/Errored';\nimport CountryFlag from '../wca/CountryFlag';\nimport {\n  adminCheckUploadedResults,\n  adminPostingCompetitionsUrl,\n  adminImportResultsUrl,\n  adminStartPostingUrl,\n  competitionUrl,\n} from '../../lib/requests/routes.js.erb';\n\nfunction stateReducer(accumulated, current) {\n  return { ...accumulated, [current.id]: current.posting_user !== undefined };\n}\n\nfunction checkboxesStateFromData(competitions) {\n  return competitions.reduce(stateReducer, {});\n}\n\nfunction PostingCompetitionsIndex({\n  competitions,\n  save,\n  saving,\n  setMessage,\n  sync,\n}) {\n  const initialState = checkboxesStateFromData(competitions);\n  const [checkboxes, setCheckboxes] = useState(initialState);\n\n  const updater = useCallback((competitionId, value) => {\n    setCheckboxes((prevState) => ({ ...prevState, [competitionId]: value }));\n  }, [setCheckboxes]);\n\n  // We want to deactivate the form if it's saving.\n  const globalDisable = saving;\n\n  const handleResponse = useCallback((json) => {\n    if (json.error) {\n      setMessage({ color: 'red', text: json.error });\n    } else {\n      setMessage({ color: 'green', text: json.message });\n      sync();\n    }\n  }, [sync, setMessage]);\n\n  const startPostingAction = useCallback(() => {\n    const checkedCompetitions = Object.entries(checkboxes).filter(([, value]) => value);\n    const competitionIds = checkedCompetitions.map(([key]) => key);\n    save(adminStartPostingUrl, { competition_ids: competitionIds }, handleResponse, { method: 'POST' });\n  }, [checkboxes, handleResponse, save]);\n\n  return (\n    <>\n      {competitions.length === 0 && (\n        <Table.Row>\n          <Table.Cell colSpan={3}>\n            No competitions are awaiting to be posted\n          </Table.Cell>\n        </Table.Row>\n      )}\n      {competitions.map((c) => (\n        <Table.Row key={c.id}>\n          <Table.Cell>\n            <Header as=\"h5\" floated=\"left\">\n              {c.name}\n              <Header.Subheader>\n                {c.city}\n                {' '}\n                <CountryFlag iso2={c.country_iso2} />\n              </Header.Subheader>\n              <Header.Subheader>\n                {`Submission Timestamp: ${moment(c.results_submitted_at).fromNow()}`}\n              </Header.Subheader>\n            </Header>\n            <Button.Group floated=\"right\">\n              <Button\n                target=\"_blank\"\n                primary\n                href={competitionUrl(c.id)}\n              >\n                Competition page\n              </Button>\n              {/* Only display these if we can post. */}\n              {initialState[c.id] && (\n                <>\n                  <Button\n                    target=\"_blank\"\n                    color=\"olive\"\n                    href={adminCheckUploadedResults(c.id)}\n                  >\n                    Check results page\n                  </Button>\n                  <Button\n                    target=\"_blank\"\n                    color=\"green\"\n                    href={adminImportResultsUrl(c.id)}\n                  >\n                    Import results page\n                  </Button>\n                </>\n              )}\n            </Button.Group>\n          </Table.Cell>\n          <Table.Cell>\n            <Checkbox\n              checked={checkboxes[c.id]}\n              onChange={(e, data) => updater(c.id, data.checked)}\n              disabled={globalDisable || initialState[c.id]}\n            />\n          </Table.Cell>\n          <Table.Cell>\n            {c.posting_user && (\n              <span>{c.posting_user.name}</span>\n            )}\n          </Table.Cell>\n        </Table.Row>\n      ))}\n      <Table.Row>\n        <Table.Cell />\n        <Table.Cell colSpan={2}>\n          <Button\n            positive\n            // We can't start posting if we're not allowed to, or if we didn't\n            // perform any change to the initial state.\n            disabled={globalDisable || _.isEqual(checkboxes, initialState)}\n            onClick={startPostingAction}\n          >\n            Start posting\n          </Button>\n        </Table.Cell>\n      </Table.Row>\n    </>\n  );\n}\n\nfunction PostingCompetitionsTable() {\n  const {\n    data, loading, error, sync,\n  } = useLoadedData(adminPostingCompetitionsUrl);\n  const { save, saving } = useSaveAction();\n  const [message, setMessage] = useState(null);\n\n  return (\n    <>\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>\n              Competition\n              {' '}\n              <Button\n                icon=\"sync\"\n                color=\"teal\"\n                onClick={() => { setMessage(null); sync(); }}\n              />\n            </Table.HeaderCell>\n            <Table.HeaderCell>Posting</Table.HeaderCell>\n            <Table.HeaderCell>Poster</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {error && (\n            <Table.Row>\n              <Table.Cell colSpan={3}>\n                <Errored componentName=\"PostingCompetitionsIndex\" />\n              </Table.Cell>\n            </Table.Row>\n          )}\n          {loading && (\n            <Table.Row>\n              <Table.Cell colSpan={3}>\n                <Loading />\n              </Table.Cell>\n            </Table.Row>\n          )}\n          {!loading && data && (\n            <PostingCompetitionsIndex\n              competitions={data.competitions}\n              save={save}\n              saving={saving}\n              sync={sync}\n              setMessage={setMessage}\n            />\n          )}\n        </Table.Body>\n      </Table>\n      {message && (\n        <Segment color={message.color} inverted>\n          {message.text}\n        </Segment>\n      )}\n    </>\n  );\n}\n\nexport default PostingCompetitionsTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}