{"ast":null,"code":"import _map from \"lodash/map\";\nimport _mapValues from \"lodash/mapValues\";\nimport _times from \"lodash/times\";\nimport _fromPairs from \"lodash/fromPairs\";\nvar _excluded = [\"enabled\"],\n  _excluded2 = [\"currentSettings\", \"handlePropChange\"];\nvar _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/SchedulesEditor/ScheduleToolbar.js\";\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure \" + obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport React from 'react';\nimport { Button, ButtonToolbar, Col, OverlayTrigger, Popover, Row, Tooltip } from 'react-bootstrap';\nimport { Icon } from 'semantic-ui-react';\nimport { scheduleElementSelector } from \"../../lib/helpers/edit-schedule\";\n\n/* eslint react/prop-types: \"off\" */\n// The errors below are bahavior caused by our usage of react-bootstrap\n/* eslint react/jsx-props-no-spreading: \"off\" */\n\nvar hours = _fromPairs(_times(25, function (i) {\n  return [i, \"\".concat(i, \":00:00\")];\n}));\nexport var calendarOptionsInfo = {\n  slotDuration: {\n    label: 'Minutes per row',\n    defaultValue: '00:15:00',\n    options: {\n      5: '00:05:00',\n      15: '00:15:00',\n      20: '00:20:00',\n      30: '00:30:00'\n    }\n  },\n  minTime: {\n    label: 'Calendar starts at',\n    defaultValue: '8:00:00',\n    options: hours\n  },\n  maxTime: {\n    label: 'Calendar ends at',\n    defaultValue: '20:00:00',\n    options: hours\n  }\n};\nvar tooltipSettings = /*#__PURE__*/React.createElement(Tooltip, {\n  id: \"tooltip-calendar-settings\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 3\n  }\n}, \"Click to change the calendar\\u2019s settings.\");\nexport var ScheduleToolbar = /*#__PURE__*/function (_React$Component) {\n  _inherits(ScheduleToolbar, _React$Component);\n  var _super = _createSuper(ScheduleToolbar);\n  function ScheduleToolbar(props) {\n    var _this;\n    _classCallCheck(this, ScheduleToolbar);\n    _this = _super.call(this, props);\n    _this.state = {\n      calendarOptions: _mapValues(calendarOptionsInfo, 'defaultValue')\n    };\n    _this.keyboardHandler = _this.keyboardHandler.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(ScheduleToolbar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      $(window).keydown(this.keyboardHandler);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      $(window).off('keydown', this.keyboardHandler);\n    }\n  }, {\n    key: \"keyboardHandler\",\n    value: function keyboardHandler(event) {\n      var handleKeyboardChange = this.props.handleKeyboardChange;\n      // ctrl + i\n      if (event.ctrlKey && !event.shiftKey && event.which === 73) {\n        handleKeyboardChange();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        keyboardEnabled = _this$props.keyboardEnabled,\n        handleKeyboardChange = _this$props.handleKeyboardChange;\n      var handleCalendarOptionChange = function handleCalendarOptionChange(optionName, e) {\n        e.preventDefault();\n        var calendarOptions = _this2.state.calendarOptions;\n        var newOptions = _objectSpread(_objectSpread({}, calendarOptions), {}, _defineProperty({}, optionName, e.target.value));\n        $(scheduleElementSelector).fullCalendar('option', newOptions);\n        _this2.setState({\n          calendarOptions: newOptions\n        });\n      };\n      var calendarOptions = this.state.calendarOptions;\n      return /*#__PURE__*/React.createElement(ButtonToolbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(OverlayTrigger, {\n        trigger: \"click\",\n        rootClose: true,\n        overlay: /*#__PURE__*/React.createElement(CalendarHelp, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 20\n          }\n        }),\n        placement: \"bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        name: \"question circle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(OverlayTrigger, {\n        trigger: \"click\",\n        rootClose: true,\n        placement: \"bottom\",\n        overlay: /*#__PURE__*/React.createElement(CalendarSettings, {\n          currentSettings: calendarOptions,\n          handlePropChange: handleCalendarOptionChange,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(OverlayTrigger, {\n        overlay: tooltipSettings,\n        placement: \"top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        name: \"cog\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      })))), /*#__PURE__*/React.createElement(OverlayTrigger, {\n        overlay: /*#__PURE__*/React.createElement(TooltipKeyboard, {\n          enabled: keyboardEnabled,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 34\n          }\n        }),\n        placement: \"top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: handleKeyboardChange,\n        active: keyboardEnabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        name: \"keyboard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n  return ScheduleToolbar;\n}(React.Component);\n\n// See https://github.com/react-bootstrap/react-bootstrap/issues/1345#issuecomment-142133819\n// for why we pass down ...props\nfunction CalendarHelp(_ref) {\n  var props = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  return /*#__PURE__*/React.createElement(Popover, Object.assign({\n    id: \"calendar-help-popover\",\n    title: \"Keyboard shortcuts help\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"dl\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"dt\", {\n    className: \"col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"keyboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }), ' ', \"or\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), ' ', \"[C] + i\"), /*#__PURE__*/React.createElement(\"dd\", {\n    className: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, \"Toggle keyboard shortcuts\"), /*#__PURE__*/React.createElement(\"dt\", {\n    className: \"col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, \"Arrow keys\"), /*#__PURE__*/React.createElement(\"dd\", {\n    className: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, \"Change selected event in calendar\"), /*#__PURE__*/React.createElement(\"dt\", {\n    className: \"col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, \"[S] + Arrow keys\"), /*#__PURE__*/React.createElement(\"dd\", {\n    className: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, \"Change selected activity in picker\"), /*#__PURE__*/React.createElement(\"dt\", {\n    className: \"col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, \"[Enter]\"), /*#__PURE__*/React.createElement(\"dd\", {\n    className: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, \"Add selected activity after selected event\"), /*#__PURE__*/React.createElement(\"dt\", {\n    className: \"col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, \"[Del]\"), /*#__PURE__*/React.createElement(\"dd\", {\n    className: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, \"Remove selected event\"), /*#__PURE__*/React.createElement(\"dt\", {\n    className: \"col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, \"[C] + Arrow keys\"), /*#__PURE__*/React.createElement(\"dd\", {\n    className: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, \"Move selected event around in calendar\"), /*#__PURE__*/React.createElement(\"dt\", {\n    className: \"col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, \"[C] + [S] + up/down\"), /*#__PURE__*/React.createElement(\"dd\", {\n    className: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, \"Shrink/Expand selected event in calendar\"), /*#__PURE__*/React.createElement(\"dt\", {\n    className: \"col-xs-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, \"[C] + [S] + click\"), /*#__PURE__*/React.createElement(\"dd\", {\n    className: \"col-xs-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, \"Show contextual menu for event\")), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, \"[C]:\"), ' ', \"ctrl key,\", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, \"[S]:\"), ' ', \"shift key\");\n}\nfunction TooltipKeyboard(_ref2) {\n  var enabled = _ref2.enabled,\n    props = _objectWithoutProperties(_ref2, _excluded);\n  return /*#__PURE__*/React.createElement(Tooltip, Object.assign({\n    id: \"tooltip-enable-keyboard\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 5\n    }\n  }), \"Click to\", ' ', enabled ? 'disable' : 'enable', ' ', \"keyboard shortcuts\");\n}\nfunction CalendarSettingsOption(_ref3) {\n  var _this3 = this;\n  var selected = _ref3.selected,\n    optionName = _ref3.optionName,\n    handlePropChange = _ref3.handlePropChange;\n  var optionProps = calendarOptionsInfo[optionName];\n  return /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 6,\n    className: \"setting-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, optionProps.label), /*#__PURE__*/React.createElement(Col, {\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    value: selected,\n    onChange: function onChange(e) {\n      return handlePropChange(optionName, e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, _map(optionProps.options, function (value, key) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: value,\n      value: value,\n      __self: _this3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }\n    }, key);\n  })))));\n}\n\n// See https://github.com/react-bootstrap/react-bootstrap/issues/1345#issuecomment-142133819\n// for why we pass down ...props\nfunction CalendarSettings(_ref4) {\n  var _this4 = this;\n  var currentSettings = _ref4.currentSettings,\n    handlePropChange = _ref4.handlePropChange,\n    props = _objectWithoutProperties(_ref4, _excluded2);\n  return /*#__PURE__*/React.createElement(Popover, Object.assign({\n    id: \"calendar-settings-popover\",\n    title: \"Calendar settings\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }, Object.keys(calendarOptionsInfo).map(function (optionName) {\n    return /*#__PURE__*/React.createElement(CalendarSettingsOption, {\n      optionName: optionName,\n      key: optionName,\n      selected: currentSettings[optionName],\n      handlePropChange: handlePropChange,\n      __self: _this4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }\n    });\n  })));\n}","map":{"version":3,"names":["React","Button","ButtonToolbar","Col","OverlayTrigger","Popover","Row","Tooltip","Icon","scheduleElementSelector","hours","_fromPairs","_times","i","concat","calendarOptionsInfo","slotDuration","label","defaultValue","options","minTime","maxTime","tooltipSettings","createElement","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ScheduleToolbar","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","calendarOptions","_mapValues","keyboardHandler","bind","_assertThisInitialized","_createClass","key","value","componentDidMount","$","window","keydown","componentWillUnmount","off","event","handleKeyboardChange","ctrlKey","shiftKey","which","render","_this2","_this$props","keyboardEnabled","handleCalendarOptionChange","optionName","e","preventDefault","newOptions","_objectSpread","_defineProperty","target","fullCalendar","setState","trigger","rootClose","overlay","CalendarHelp","placement","name","CalendarSettings","currentSettings","handlePropChange","TooltipKeyboard","enabled","onClick","active","Component","_ref","_extends","_objectDestructuringEmpty","Object","assign","title","className","_ref2","_objectWithoutProperties","_excluded","CalendarSettingsOption","_ref3","_this3","selected","optionProps","xs","onChange","_map","_ref4","_this4","_excluded2","keys","map"],"sources":["/app/WcaOnRails/app/webpacker/components/SchedulesEditor/ScheduleToolbar.js"],"sourcesContent":["import React from 'react';\nimport {\n  Button,\n  ButtonToolbar,\n  Col,\n  OverlayTrigger,\n  Popover,\n  Row,\n  Tooltip,\n} from 'react-bootstrap';\nimport { Icon } from 'semantic-ui-react';\nimport _ from 'lodash';\nimport { scheduleElementSelector } from '../../lib/helpers/edit-schedule';\n\n/* eslint react/prop-types: \"off\" */\n// The errors below are bahavior caused by our usage of react-bootstrap\n/* eslint react/jsx-props-no-spreading: \"off\" */\n\nconst hours = _.fromPairs(_.times(25, (i) => [i, `${i}:00:00`]));\n\nexport const calendarOptionsInfo = {\n  slotDuration: {\n    label: 'Minutes per row',\n    defaultValue: '00:15:00',\n    options: {\n      5: '00:05:00',\n      15: '00:15:00',\n      20: '00:20:00',\n      30: '00:30:00',\n    },\n  },\n  minTime: {\n    label: 'Calendar starts at',\n    defaultValue: '8:00:00',\n    options: hours,\n  },\n  maxTime: {\n    label: 'Calendar ends at',\n    defaultValue: '20:00:00',\n    options: hours,\n  },\n};\n\nconst tooltipSettings = (\n  <Tooltip id=\"tooltip-calendar-settings\">\n    Click to change the calendar&rsquo;s settings.\n  </Tooltip>\n);\n\nexport class ScheduleToolbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      calendarOptions: _.mapValues(calendarOptionsInfo, 'defaultValue'),\n    };\n    this.keyboardHandler = this.keyboardHandler.bind(this);\n  }\n\n  componentDidMount() {\n    $(window).keydown(this.keyboardHandler);\n  }\n\n  componentWillUnmount() {\n    $(window).off('keydown', this.keyboardHandler);\n  }\n\n  keyboardHandler(event) {\n    const { handleKeyboardChange } = this.props;\n    // ctrl + i\n    if (event.ctrlKey && !event.shiftKey && event.which === 73) {\n      handleKeyboardChange();\n    }\n  }\n\n  render() {\n    const { keyboardEnabled, handleKeyboardChange } = this.props;\n\n    const handleCalendarOptionChange = (optionName, e) => {\n      e.preventDefault();\n      const { calendarOptions } = this.state;\n      const newOptions = {\n        ...calendarOptions,\n        [optionName]: e.target.value,\n      };\n      $(scheduleElementSelector).fullCalendar('option', newOptions);\n      this.setState({ calendarOptions: newOptions });\n    };\n\n    const { calendarOptions } = this.state;\n\n    return (\n      <ButtonToolbar>\n        <OverlayTrigger\n          trigger=\"click\"\n          rootClose\n          overlay={<CalendarHelp />}\n          placement=\"bottom\"\n        >\n          <Button><Icon name=\"question circle\" /></Button>\n        </OverlayTrigger>\n        <OverlayTrigger\n          trigger=\"click\"\n          rootClose\n          placement=\"bottom\"\n          overlay={(\n            <CalendarSettings\n              currentSettings={calendarOptions}\n              handlePropChange={handleCalendarOptionChange}\n            />\n)}\n        >\n          <OverlayTrigger overlay={tooltipSettings} placement=\"top\">\n            <Button><Icon name=\"cog\" /></Button>\n          </OverlayTrigger>\n        </OverlayTrigger>\n        <OverlayTrigger overlay={<TooltipKeyboard enabled={keyboardEnabled} />} placement=\"top\">\n          <Button onClick={handleKeyboardChange} active={keyboardEnabled}>\n            <Icon name=\"keyboard\" />\n          </Button>\n        </OverlayTrigger>\n      </ButtonToolbar>\n    );\n  }\n}\n\n// See https://github.com/react-bootstrap/react-bootstrap/issues/1345#issuecomment-142133819\n// for why we pass down ...props\nfunction CalendarHelp({ ...props }) {\n  return (\n    <Popover id=\"calendar-help-popover\" title=\"Keyboard shortcuts help\" {...props}>\n      <dl className=\"row\">\n        <dt className=\"col-xs-4\">\n          <Icon name=\"keyboard\" />\n          {' '}\n          or\n          <br />\n          {' '}\n          [C] + i\n        </dt>\n        <dd className=\"col-xs-8\">Toggle keyboard shortcuts</dd>\n        <dt className=\"col-xs-4\">Arrow keys</dt>\n        <dd className=\"col-xs-8\">Change selected event in calendar</dd>\n        <dt className=\"col-xs-4\">[S] + Arrow keys</dt>\n        <dd className=\"col-xs-8\">Change selected activity in picker</dd>\n        <dt className=\"col-xs-4\">[Enter]</dt>\n        <dd className=\"col-xs-8\">Add selected activity after selected event</dd>\n        <dt className=\"col-xs-4\">[Del]</dt>\n        <dd className=\"col-xs-8\">Remove selected event</dd>\n        <dt className=\"col-xs-4\">[C] + Arrow keys</dt>\n        <dd className=\"col-xs-8\">Move selected event around in calendar</dd>\n        <dt className=\"col-xs-4\">[C] + [S] + up/down</dt>\n        <dd className=\"col-xs-8\">Shrink/Expand selected event in calendar</dd>\n        <dt className=\"col-xs-4\">[C] + [S] + click</dt>\n        <dd className=\"col-xs-8\">Show contextual menu for event</dd>\n      </dl>\n      <hr />\n      <b>[C]:</b>\n      {' '}\n      ctrl key,\n      <b>[S]:</b>\n      {' '}\n      shift key\n    </Popover>\n  );\n}\n\nfunction TooltipKeyboard({ enabled, ...props }) {\n  return (\n    <Tooltip id=\"tooltip-enable-keyboard\" {...props}>\n      Click to\n      {' '}\n      { enabled ? 'disable' : 'enable' }\n      {' '}\n      keyboard shortcuts\n    </Tooltip>\n  );\n}\n\nfunction CalendarSettingsOption({ selected, optionName, handlePropChange }) {\n  const optionProps = calendarOptionsInfo[optionName];\n  return (\n    <Col xs={12}>\n      <Row>\n        <Col xs={6} className=\"setting-label\">\n          {optionProps.label}\n        </Col>\n        <Col xs={6}>\n          <select className=\"form-control\" value={selected} onChange={(e) => handlePropChange(optionName, e)}>\n            {_.map(optionProps.options, (value, key) => (\n              <option key={value} value={value}>{key}</option>))}\n          </select>\n        </Col>\n      </Row>\n    </Col>\n  );\n}\n\n// See https://github.com/react-bootstrap/react-bootstrap/issues/1345#issuecomment-142133819\n// for why we pass down ...props\nfunction CalendarSettings({ currentSettings, handlePropChange, ...props }) {\n  return (\n    <Popover id=\"calendar-settings-popover\" title=\"Calendar settings\" {...props}>\n      <Row>\n        {Object.keys(calendarOptionsInfo).map((optionName) => (\n          <CalendarSettingsOption\n            optionName={optionName}\n            key={optionName}\n            selected={currentSettings[optionName]}\n            handlePropChange={handlePropChange}\n          />\n        ))}\n      </Row>\n    </Popover>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}