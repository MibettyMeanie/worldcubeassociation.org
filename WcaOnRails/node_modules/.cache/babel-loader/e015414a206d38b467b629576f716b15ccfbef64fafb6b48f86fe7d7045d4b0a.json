{"ast":null,"code":"import _map from \"lodash/map\";\nimport _some from \"lodash/some\";\nimport _flatMap from \"lodash/flatMap\";\nimport _find from \"lodash/find\";\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport { events } from \"../wca-data.js.erb\";\nimport { fetchWithAuthenticityToken } from \"../requests/fetchWithAuthenticityToken\";\nimport I18n from \"../i18n\";\nimport { attemptResultToString, attemptResultToMbPoints } from \"./edit-events\";\nfunction promiseSaveWcif(competitionId, data) {\n  var url = \"/api/v0/competitions/\".concat(competitionId, \"/wcif\");\n  var fetchOptions = {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    credentials: 'include',\n    method: 'PATCH',\n    body: JSON.stringify(data)\n  };\n  return fetchWithAuthenticityToken(url, fetchOptions);\n}\nexport function getAuthenticityToken() {\n  return document.querySelector('meta[name=csrf-token]').content;\n}\nexport function saveWcif(competitionId, data, onSuccess, onFailure) {\n  promiseSaveWcif(competitionId, data).then(function (response) {\n    return Promise.all([response, response.json()]);\n  }).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      response = _ref2[0],\n      json = _ref2[1];\n    if (!response.ok) {\n      throw new Error(\"\".concat(response.status, \": \").concat(response.statusText, \"\\n\").concat(json.error));\n    }\n    onSuccess();\n  })[\"catch\"](function (e) {\n    onFailure();\n    /* eslint-disable-next-line */\n    alert(\"Something went wrong while saving.\\n\".concat(e.message));\n  });\n}\n\n// Copied from https://github.com/jfly/tnoodle/blob/c2b529e6292469c23f33b1d73839e22f041443e0/tnoodle-ui/src/WcaCompetitionJson.js#L52\nexport function parseActivityCode(activityCode) {\n  var roundNumber;\n  var group;\n  var attempt;\n  var parts = activityCode.split('-');\n  var eventId = parts.shift();\n  parts.forEach(function (part) {\n    var firstLetter = part[0];\n    var rest = part.substring(1);\n    if (firstLetter === 'r') {\n      roundNumber = parseInt(rest, 10);\n    } else if (firstLetter === 'g') {\n      group = rest;\n    } else if (firstLetter === 'a') {\n      attempt = rest;\n    } else {\n      throw new Error(\"Unrecognized activity code part: \".concat(part, \" of \").concat(activityCode));\n    }\n  });\n  return {\n    eventId: eventId,\n    roundNumber: roundNumber,\n    group: group,\n    attempt: attempt\n  };\n}\nexport function roundIdToString(roundId) {\n  var _parseActivityCode = parseActivityCode(roundId),\n    eventId = _parseActivityCode.eventId,\n    roundNumber = _parseActivityCode.roundNumber;\n  var event = events.byId[eventId];\n  return \"\".concat(event.name, \", Round \").concat(roundNumber);\n}\nexport function buildActivityCode(activity) {\n  var activityCode = activity.eventId;\n  if (activity.roundNumber) {\n    activityCode += \"-r\".concat(activity.roundNumber);\n  }\n  if (activity.group) {\n    activityCode += \"-g\".concat(activity.group);\n  }\n  return activityCode;\n}\nexport function roomWcifFromId(scheduleWcif, id) {\n  var intId = parseInt(id, 10);\n  return _find(_flatMap(scheduleWcif.venues, 'rooms'), {\n    id: intId\n  });\n}\nexport function venueWcifFromRoomId(scheduleWcif, id) {\n  var intId = parseInt(id, 10);\n  return _find(scheduleWcif.venues, function (venue) {\n    return _some(venue.rooms, {\n      id: intId\n    });\n  });\n}\nexport function activityCodeListFromWcif(scheduleWcif) {\n  return _map(_flatMap(_flatMap(scheduleWcif.venues, 'rooms'), 'activities'), 'activityCode');\n}\nexport function eventQualificationToString(wcifEvent, qualification) {\n  var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    _short = _ref3[\"short\"];\n  if (!qualification) {\n    return '-';\n  }\n  var dateString = '-';\n  if (qualification.whenDate) {\n    var whenDate = window.moment(qualification.whenDate).toDate();\n    dateString = whenDate.toISOString().substring(0, 10);\n  }\n  var deadlineString = I18n.t('qualification.deadline.by_date', {\n    date: dateString\n  });\n  var event = events.byId[wcifEvent.id];\n  switch (qualification.resultType) {\n    case 'single':\n    case 'average':\n      if (qualification.type === 'ranking') {\n        var messageName = \"qualification.\".concat(qualification.resultType, \".ranking\");\n        return \"\".concat(I18n.t(messageName, {\n          ranking: qualification.level\n        }), \" \").concat(deadlineString);\n      }\n      if (qualification.type === 'anyResult') {\n        var _messageName = \"qualification.\".concat(qualification.resultType, \".any_result\");\n        return \"\".concat(I18n.t(_messageName), \" \").concat(deadlineString);\n      }\n      if (event.isTimedEvent) {\n        var _messageName2 = \"qualification.\".concat(qualification.resultType, \".time\");\n        return \"\".concat(I18n.t(_messageName2, {\n          time: attemptResultToString(qualification.level, wcifEvent.id, _short)\n        }), \" \").concat(deadlineString);\n      }\n      if (event.isFewestMoves) {\n        var _messageName3 = \"qualification.\".concat(qualification.resultType, \".moves\");\n        var moves = qualification.resultType === 'average' ? qualification.level / 100 : qualification.level;\n        return \"\".concat(I18n.t(_messageName3, {\n          moves: moves\n        }), \" \").concat(deadlineString);\n      }\n      if (event.isMultipleBlindfolded) {\n        var _messageName4 = \"qualification.\".concat(qualification.resultType, \".points\");\n        return \"\".concat(I18n.t(_messageName4, {\n          points: attemptResultToMbPoints(qualification.level)\n        }), \" \").concat(deadlineString);\n      }\n      return '-';\n    default:\n      return '-';\n  }\n}","map":{"version":3,"names":["events","fetchWithAuthenticityToken","I18n","attemptResultToString","attemptResultToMbPoints","promiseSaveWcif","competitionId","data","url","concat","fetchOptions","headers","credentials","method","body","JSON","stringify","getAuthenticityToken","document","querySelector","content","saveWcif","onSuccess","onFailure","then","response","Promise","all","json","_ref","_ref2","_slicedToArray","ok","Error","status","statusText","error","e","alert","message","parseActivityCode","activityCode","roundNumber","group","attempt","parts","split","eventId","shift","forEach","part","firstLetter","rest","substring","parseInt","roundIdToString","roundId","_parseActivityCode","event","byId","name","buildActivityCode","activity","roomWcifFromId","scheduleWcif","id","intId","_find","_flatMap","venues","venueWcifFromRoomId","venue","_some","rooms","activityCodeListFromWcif","_map","eventQualificationToString","wcifEvent","qualification","_ref3","arguments","length","undefined","short","dateString","whenDate","window","moment","toDate","toISOString","deadlineString","t","date","resultType","type","messageName","ranking","level","isTimedEvent","time","isFewestMoves","moves","isMultipleBlindfolded","points"],"sources":["/app/WcaOnRails/app/webpacker/lib/utils/wcif.js"],"sourcesContent":["import _ from 'lodash';\nimport { events } from '../wca-data.js.erb';\nimport { fetchWithAuthenticityToken } from '../requests/fetchWithAuthenticityToken';\nimport I18n from '../i18n';\nimport { attemptResultToString, attemptResultToMbPoints } from './edit-events';\n\nfunction promiseSaveWcif(competitionId, data) {\n  const url = `/api/v0/competitions/${competitionId}/wcif`;\n  const fetchOptions = {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    credentials: 'include',\n    method: 'PATCH',\n    body: JSON.stringify(data),\n  };\n\n  return fetchWithAuthenticityToken(url, fetchOptions);\n}\n\nexport function getAuthenticityToken() {\n  return document.querySelector('meta[name=csrf-token]').content;\n}\n\nexport function saveWcif(competitionId, data, onSuccess, onFailure) {\n  promiseSaveWcif(competitionId, data)\n    .then((response) => Promise.all([response, response.json()]))\n    .then(([response, json]) => {\n      if (!response.ok) {\n        throw new Error(`${response.status}: ${response.statusText}\\n${json.error}`);\n      }\n      onSuccess();\n    })\n    .catch((e) => {\n      onFailure();\n      /* eslint-disable-next-line */\n      alert(`Something went wrong while saving.\\n${e.message}`);\n    });\n}\n\n// Copied from https://github.com/jfly/tnoodle/blob/c2b529e6292469c23f33b1d73839e22f041443e0/tnoodle-ui/src/WcaCompetitionJson.js#L52\nexport function parseActivityCode(activityCode) {\n  let roundNumber; let group; let\n    attempt;\n  const parts = activityCode.split('-');\n  const eventId = parts.shift();\n\n  parts.forEach((part) => {\n    const firstLetter = part[0];\n    const rest = part.substring(1);\n    if (firstLetter === 'r') {\n      roundNumber = parseInt(rest, 10);\n    } else if (firstLetter === 'g') {\n      group = rest;\n    } else if (firstLetter === 'a') {\n      attempt = rest;\n    } else {\n      throw new Error(`Unrecognized activity code part: ${part} of ${activityCode}`);\n    }\n  });\n  return {\n    eventId, roundNumber, group, attempt,\n  };\n}\n\nexport function roundIdToString(roundId) {\n  const { eventId, roundNumber } = parseActivityCode(roundId);\n  const event = events.byId[eventId];\n  return `${event.name}, Round ${roundNumber}`;\n}\n\nexport function buildActivityCode(activity) {\n  let activityCode = activity.eventId;\n  if (activity.roundNumber) {\n    activityCode += `-r${activity.roundNumber}`;\n  }\n  if (activity.group) {\n    activityCode += `-g${activity.group}`;\n  }\n\n  return activityCode;\n}\n\nexport function roomWcifFromId(scheduleWcif, id) {\n  const intId = parseInt(id, 10);\n  return _.find(_.flatMap(scheduleWcif.venues, 'rooms'), { id: intId });\n}\n\nexport function venueWcifFromRoomId(scheduleWcif, id) {\n  const intId = parseInt(id, 10);\n  return _.find(scheduleWcif.venues, (venue) => _.some(venue.rooms, { id: intId }));\n}\n\nexport function activityCodeListFromWcif(scheduleWcif) {\n  return _.map(_.flatMap(_.flatMap(scheduleWcif.venues, 'rooms'), 'activities'), 'activityCode');\n}\n\nexport function eventQualificationToString(wcifEvent, qualification, { short } = {}) {\n  if (!qualification) {\n    return '-';\n  }\n  let dateString = '-';\n  if (qualification.whenDate) {\n    const whenDate = window.moment(qualification.whenDate).toDate();\n    dateString = whenDate.toISOString().substring(0, 10);\n  }\n  const deadlineString = I18n.t('qualification.deadline.by_date', { date: dateString });\n  const event = events.byId[wcifEvent.id];\n  switch (qualification.resultType) {\n    case 'single':\n    case 'average':\n      if (qualification.type === 'ranking') {\n        const messageName = `qualification.${qualification.resultType}.ranking`;\n        return `${I18n.t(messageName, { ranking: qualification.level })} ${deadlineString}`;\n      }\n      if (qualification.type === 'anyResult') {\n        const messageName = `qualification.${qualification.resultType}.any_result`;\n        return `${I18n.t(messageName)} ${deadlineString}`;\n      }\n      if (event.isTimedEvent) {\n        const messageName = `qualification.${qualification.resultType}.time`;\n        return `${I18n.t(messageName, { time: attemptResultToString(qualification.level, wcifEvent.id, short) })} ${deadlineString}`;\n      }\n      if (event.isFewestMoves) {\n        const messageName = `qualification.${qualification.resultType}.moves`;\n        const moves = qualification.resultType === 'average' ? qualification.level / 100 : qualification.level;\n        return `${I18n.t(messageName, { moves })} ${deadlineString}`;\n      }\n      if (event.isMultipleBlindfolded) {\n        const messageName = `qualification.${qualification.resultType}.points`;\n        return `${I18n.t(messageName, { points: attemptResultToMbPoints(qualification.level) })} ${deadlineString}`;\n      }\n      return '-';\n    default:\n      return '-';\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}