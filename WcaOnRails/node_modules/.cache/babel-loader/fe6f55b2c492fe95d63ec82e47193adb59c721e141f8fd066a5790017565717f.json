{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/Persons/Badges.jsx\";\nimport React from 'react';\nimport { Popup } from 'semantic-ui-react';\nimport useLoadedData from \"../../lib/hooks/useLoadedData\";\nimport I18n from \"../../lib/i18n\";\nimport { apiV0Urls, delegatesPageUrl, teamsCommitteesPageUrl } from \"../../lib/requests/routes.js.erb\";\nimport { groupTypes } from \"../../lib/wca-data.js.erb\";\n\n// let i18n-tasks know the key is used\n// i18n-tasks-use t('user_groups.group_types.board')\n// i18n-tasks-use t('user_groups.group_types.officers')\n\nfunction badgeParams(role) {\n  if (role.group.group_type === groupTypes.delegate_regions) {\n    return {\n      roleTitle: I18n.t(\"enums.user.role_status.\".concat(role.group.group_type, \".\").concat(role.metadata.status)),\n      groupTitle: I18n.t(\"enums.user.role_status.\".concat(role.group.group_type, \".\").concat(role.metadata.status)),\n      badgeClass: 'delegate-badge',\n      url: delegatesPageUrl\n    };\n  }\n  if ([groupTypes.teams_committees, groupTypes.councils].includes(role.group.group_type)) {\n    return {\n      roleTitle: \"\".concat(role.group.metadata.friendly_id.toUpperCase(), \" \").concat(I18n.t(\"enums.user.role_status.\".concat(role.group.group_type, \".\").concat(role.metadata.status))),\n      groupTitle: I18n.t(\"user_groups.group_types.\".concat(role.group.group_type)),\n      badgeClass: \"team-\".concat(role.metadata.status.replace('_', '-'), \"-badge\"),\n      url: teamsCommitteesPageUrl\n    };\n  }\n  if (role.group.group_type === groupTypes.board) {\n    return {\n      roleTitle: role.group.metadata.friendly_id.toUpperCase(),\n      groupTitle: I18n.t(\"user_groups.group_types.\".concat(role.group.group_type)),\n      badgeClass: 'team-member-badge',\n      url: teamsCommitteesPageUrl\n    };\n  }\n  if (role.group.group_type === groupTypes.officers) {\n    return {\n      roleTitle: \"\".concat(I18n.t(\"about.structure.\".concat(role.metadata.status, \".name\"))),\n      groupTitle: I18n.t(\"user_groups.group_types.\".concat(role.group.group_type)),\n      badgeClass: 'officer-badge',\n      url: teamsCommitteesPageUrl\n    };\n  }\n  return {};\n}\nexport default function Badges(_ref) {\n  var _this = this;\n  var userId = _ref.userId;\n  var _useLoadedData = useLoadedData(apiV0Urls.userRoles.listOfUser(userId, ['lead', 'eligibleVoter', 'groupTypeRank', 'status', 'groupName'].join(','),\n    // Sort params\n    {\n      isActive: true\n    })),\n    data = _useLoadedData.data;\n  var roles = data || [];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"positions-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, roles.map(function (role) {\n    var _badgeParams = badgeParams(role),\n      roleTitle = _badgeParams.roleTitle,\n      groupTitle = _badgeParams.groupTitle,\n      badgeClass = _badgeParams.badgeClass,\n      url = _badgeParams.url;\n    return /*#__PURE__*/React.createElement(Popup, {\n      content: groupTitle,\n      position: \"bottom center\",\n      inverted: true,\n      trigger: /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge \".concat(badgeClass),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: url,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }\n      }, roleTitle)),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    });\n  }));\n}","map":{"version":3,"names":["React","Popup","useLoadedData","I18n","apiV0Urls","delegatesPageUrl","teamsCommitteesPageUrl","groupTypes","badgeParams","role","group","group_type","delegate_regions","roleTitle","t","concat","metadata","status","groupTitle","badgeClass","url","teams_committees","councils","includes","friendly_id","toUpperCase","replace","board","officers","Badges","_ref","_this","userId","_useLoadedData","userRoles","listOfUser","join","isActive","data","roles","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","_badgeParams","content","position","inverted","trigger","href"],"sources":["/app/WcaOnRails/app/webpacker/components/Persons/Badges.jsx"],"sourcesContent":["import React from 'react';\nimport { Popup } from 'semantic-ui-react';\nimport useLoadedData from '../../lib/hooks/useLoadedData';\nimport I18n from '../../lib/i18n';\nimport { apiV0Urls, delegatesPageUrl, teamsCommitteesPageUrl } from '../../lib/requests/routes.js.erb';\nimport { groupTypes } from '../../lib/wca-data.js.erb';\n\n// let i18n-tasks know the key is used\n// i18n-tasks-use t('user_groups.group_types.board')\n// i18n-tasks-use t('user_groups.group_types.officers')\n\nfunction badgeParams(role) {\n  if (role.group.group_type === groupTypes.delegate_regions) {\n    return {\n      roleTitle: I18n.t(`enums.user.role_status.${role.group.group_type}.${role.metadata.status}`),\n      groupTitle: I18n.t(`enums.user.role_status.${role.group.group_type}.${role.metadata.status}`),\n      badgeClass: 'delegate-badge',\n      url: delegatesPageUrl,\n    };\n  }\n  if ([groupTypes.teams_committees, groupTypes.councils].includes(role.group.group_type)) {\n    return {\n      roleTitle: `${role.group.metadata.friendly_id.toUpperCase()} ${I18n.t(`enums.user.role_status.${role.group.group_type}.${role.metadata.status}`)}`,\n      groupTitle: I18n.t(`user_groups.group_types.${role.group.group_type}`),\n      badgeClass: `team-${role.metadata.status.replace('_', '-')}-badge`,\n      url: teamsCommitteesPageUrl,\n    };\n  }\n  if (role.group.group_type === groupTypes.board) {\n    return {\n      roleTitle: role.group.metadata.friendly_id.toUpperCase(),\n      groupTitle: I18n.t(`user_groups.group_types.${role.group.group_type}`),\n      badgeClass: 'team-member-badge',\n      url: teamsCommitteesPageUrl,\n    };\n  }\n  if (role.group.group_type === groupTypes.officers) {\n    return {\n      roleTitle: `${I18n.t(`about.structure.${role.metadata.status}.name`)}`,\n      groupTitle: I18n.t(`user_groups.group_types.${role.group.group_type}`),\n      badgeClass: 'officer-badge',\n      url: teamsCommitteesPageUrl,\n    };\n  }\n  return {};\n}\n\nexport default function Badges({ userId }) {\n  const { data } = useLoadedData(apiV0Urls.userRoles.listOfUser(\n    userId,\n    ['lead', 'eligibleVoter', 'groupTypeRank', 'status', 'groupName'].join(','), // Sort params\n    {\n      isActive: true,\n    },\n  ));\n  const roles = data || [];\n\n  return (\n    <div className=\"positions-container\">\n      {\n        roles.map((role) => {\n          const {\n            roleTitle, groupTitle, badgeClass, url,\n          } = badgeParams(role);\n          return (\n            <Popup\n              content={groupTitle}\n              position=\"bottom center\"\n              inverted\n              trigger={(\n                <span className={`badge ${badgeClass}`}>\n                  <a href={url}>{roleTitle}</a>\n                </span>\n            )}\n            />\n          );\n        })\n      }\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}