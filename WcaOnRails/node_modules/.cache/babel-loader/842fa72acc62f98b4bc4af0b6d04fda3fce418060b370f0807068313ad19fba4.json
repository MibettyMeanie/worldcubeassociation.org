{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/Panel/Wst/Translators.jsx\";\nimport React from 'react';\nimport { Button, Header, Table } from 'semantic-ui-react';\nimport useLoadedData from \"../../../lib/hooks/useLoadedData\";\nimport { apiV0Urls } from \"../../../lib/requests/routes.js.erb\";\nimport { groupTypes } from \"../../../lib/wca-data.js.erb\";\nimport Errored from \"../../Requests/Errored\";\nimport Loading from \"../../Requests/Loading\";\nimport useSaveAction from \"../../../lib/hooks/useSaveAction\";\nexport default function Translators() {\n  var _this = this;\n  var _useLoadedData = useLoadedData(apiV0Urls.userRoles.listOfGroupType(groupTypes.translators, 'name', {\n      isActive: true\n    })),\n    data = _useLoadedData.data,\n    loading = _useLoadedData.loading,\n    error = _useLoadedData.error,\n    sync = _useLoadedData.sync;\n  var _useSaveAction = useSaveAction(),\n    save = _useSaveAction.save,\n    saving = _useSaveAction.saving;\n  function handleEndRole(translator) {\n    save(apiV0Urls.userRoles[\"delete\"](translator.id), {}, sync, {\n      method: 'DELETE'\n    });\n  }\n  if (loading || saving) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 33\n    }\n  });\n  if (error) return /*#__PURE__*/React.createElement(Errored, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 21\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    as: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \"Active translators\"), /*#__PURE__*/React.createElement(Table, {\n    celled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, \"Locale\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, \"Translator\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(Table.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, data.map(function (translator) {\n    return /*#__PURE__*/React.createElement(Table.Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }\n    }, translator.metadata.locale), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 15\n      }\n    }, translator.user.name), /*#__PURE__*/React.createElement(Table.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: function onClick() {\n        return handleEndRole(translator);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, \"End Role\")));\n  }))));\n}","map":{"version":3,"names":["React","Button","Header","Table","useLoadedData","apiV0Urls","groupTypes","Errored","Loading","useSaveAction","Translators","_this","_useLoadedData","userRoles","listOfGroupType","translators","isActive","data","loading","error","sync","_useSaveAction","save","saving","handleEndRole","translator","id","method","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","as","celled","Row","HeaderCell","Body","map","Cell","metadata","locale","user","name","onClick"],"sources":["/app/WcaOnRails/app/webpacker/components/Panel/Wst/Translators.jsx"],"sourcesContent":["import React from 'react';\nimport { Button, Header, Table } from 'semantic-ui-react';\nimport useLoadedData from '../../../lib/hooks/useLoadedData';\nimport { apiV0Urls } from '../../../lib/requests/routes.js.erb';\nimport { groupTypes } from '../../../lib/wca-data.js.erb';\nimport Errored from '../../Requests/Errored';\nimport Loading from '../../Requests/Loading';\nimport useSaveAction from '../../../lib/hooks/useSaveAction';\n\nexport default function Translators() {\n  const {\n    data, loading, error, sync,\n  } = useLoadedData(\n    apiV0Urls.userRoles.listOfGroupType(groupTypes.translators, 'name', { isActive: true }),\n  );\n  const { save, saving } = useSaveAction();\n\n  function handleEndRole(translator) {\n    save(apiV0Urls.userRoles.delete(translator.id), {}, sync, { method: 'DELETE' });\n  }\n\n  if (loading || saving) return <Loading />;\n  if (error) return <Errored />;\n\n  return (\n    <>\n      <Header as=\"h2\">Active translators</Header>\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Locale</Table.HeaderCell>\n            <Table.HeaderCell>Translator</Table.HeaderCell>\n            <Table.HeaderCell>Actions</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {data.map((translator) => (\n            <Table.Row>\n              <Table.Cell>{translator.metadata.locale}</Table.Cell>\n              <Table.Cell>{translator.user.name}</Table.Cell>\n              <Table.Cell>\n                <Button onClick={() => handleEndRole(translator)}>End Role</Button>\n              </Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n      </Table>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}