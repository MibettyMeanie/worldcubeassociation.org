{"ast":null,"code":"function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { events } from \"../../lib/wca-data.js.erb\";\nvar WCA_EVENT_IDS = Object.values(events.official).map(function (e) {\n  return e.id;\n});\nexport var filterInitialState = {\n  timeOrder: 'present',\n  selectedYear: 'all_years',\n  customStartDate: null,\n  customEndDate: null,\n  region: 'all_regions',\n  delegate: '',\n  search: '',\n  selectedEvents: [],\n  shouldIncludeCancelled: false\n};\nexport var filterReducer = function filterReducer(state, action) {\n  switch (action.type) {\n    case 'toggle_event':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selectedEvents: state.selectedEvents.includes(action.eventId) ? state.selectedEvents.filter(function (id) {\n          return id !== action.eventId;\n        }) : [].concat(_toConsumableArray(state.selectedEvents), [action.eventId])\n      });\n    case 'select_all_events':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selectedEvents: WCA_EVENT_IDS\n      });\n    case 'clear_events':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selectedEvents: []\n      });\n    default:\n      return _objectSpread(_objectSpread({}, state), action);\n  }\n};","map":{"version":3,"names":["events","WCA_EVENT_IDS","Object","values","official","map","e","id","filterInitialState","timeOrder","selectedYear","customStartDate","customEndDate","region","delegate","search","selectedEvents","shouldIncludeCancelled","filterReducer","state","action","type","_objectSpread","includes","eventId","filter","concat","_toConsumableArray"],"sources":["/app/WcaOnRails/app/webpacker/components/CompetitionsOverview/filterUtils.js"],"sourcesContent":["import { events } from '../../lib/wca-data.js.erb';\n\nconst WCA_EVENT_IDS = Object.values(events.official).map((e) => e.id);\n\nexport const filterInitialState = {\n  timeOrder: 'present',\n  selectedYear: 'all_years',\n  customStartDate: null,\n  customEndDate: null,\n  region: 'all_regions',\n  delegate: '',\n  search: '',\n  selectedEvents: [],\n  shouldIncludeCancelled: false,\n};\n\nexport const filterReducer = (state, action) => {\n  switch (action.type) {\n    case 'toggle_event':\n      return {\n        ...state,\n        selectedEvents: state.selectedEvents.includes(action.eventId)\n          ? state.selectedEvents.filter((id) => id !== action.eventId)\n          : [...state.selectedEvents, action.eventId],\n      };\n    case 'select_all_events':\n      return { ...state, selectedEvents: WCA_EVENT_IDS };\n    case 'clear_events':\n      return { ...state, selectedEvents: [] };\n    default:\n      return { ...state, ...action };\n  }\n};\n"],"mappings":";;;;;;;;;;;AAAA,SAASA,MAAM;AAEf,IAAMC,aAAa,GAAGC,MAAM,CAACC,MAAM,CAACH,MAAM,CAACI,QAAQ,CAAC,CAACC,GAAG,CAAC,UAACC,CAAC;EAAA,OAAKA,CAAC,CAACC,EAAE;AAAA,EAAC;AAErE,OAAO,IAAMC,kBAAkB,GAAG;EAChCC,SAAS,EAAE,SAAS;EACpBC,YAAY,EAAE,WAAW;EACzBC,eAAe,EAAE,IAAI;EACrBC,aAAa,EAAE,IAAI;EACnBC,MAAM,EAAE,aAAa;EACrBC,QAAQ,EAAE,EAAE;EACZC,MAAM,EAAE,EAAE;EACVC,cAAc,EAAE,EAAE;EAClBC,sBAAsB,EAAE;AAC1B,CAAC;AAED,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,KAAK,EAAEC,MAAM,EAAK;EAC9C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,cAAc;MACjB,OAAAC,aAAA,CAAAA,aAAA,KACKH,KAAK;QACRH,cAAc,EAAEG,KAAK,CAACH,cAAc,CAACO,QAAQ,CAACH,MAAM,CAACI,OAAO,CAAC,GACzDL,KAAK,CAACH,cAAc,CAACS,MAAM,CAAC,UAAClB,EAAE;UAAA,OAAKA,EAAE,KAAKa,MAAM,CAACI,OAAO;QAAA,EAAC,MAAAE,MAAA,CAAAC,kBAAA,CACtDR,KAAK,CAACH,cAAc,IAAEI,MAAM,CAACI,OAAO;MAAC;IAEjD,KAAK,mBAAmB;MACtB,OAAAF,aAAA,CAAAA,aAAA,KAAYH,KAAK;QAAEH,cAAc,EAAEf;MAAa;IAClD,KAAK,cAAc;MACjB,OAAAqB,aAAA,CAAAA,aAAA,KAAYH,KAAK;QAAEH,cAAc,EAAE;MAAE;IACvC;MACE,OAAAM,aAAA,CAAAA,aAAA,KAAYH,KAAK,GAAKC,MAAM;EAChC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}