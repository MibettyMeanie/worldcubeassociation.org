{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/Delegates/index.jsx\";\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React, { useState } from 'react';\nimport { Checkbox, Dropdown, Grid, Header, Menu, Segment } from 'semantic-ui-react';\nimport I18n from \"../../lib/i18n\";\nimport { apiV0Urls } from \"../../lib/requests/routes.js.erb\";\nimport \"../../stylesheets/delegates/style.scss\";\nimport I18nHTMLTranslate from \"../I18nHTMLTranslate\";\nimport useLoadedData from \"../../lib/hooks/useLoadedData\";\nimport Errored from \"../Requests/Errored\";\nimport Loading from \"../Requests/Loading\";\nimport useLoggedInUserPermissions from \"../../lib/hooks/useLoggedInUserPermissions\";\nimport { groupTypes } from \"../../lib/wca-data.js.erb\";\nimport DelegatesOfRegion, { ALL_REGIONS } from \"./DelegatesOfRegion\";\nimport useHash from \"../../lib/hooks/useHash\";\n\n// let i18n-tasks know the key is used\n// i18n-tasks-use t('delegates_page.acknowledges')\n\nexport default function Delegates() {\n  var _this = this;\n  var _useLoggedInUserPermi = useLoggedInUserPermissions(),\n    loggedInUserPermissions = _useLoggedInUserPermi.loggedInUserPermissions,\n    permissionsLoading = _useLoggedInUserPermi.loading;\n  var _useLoadedData = useLoadedData(apiV0Urls.userGroups.list(groupTypes.delegate_regions, 'name', {\n      isActive: true\n    })),\n    delegateGroups = _useLoadedData.data,\n    delegateGroupsLoading = _useLoadedData.loading,\n    delegateGroupsError = _useLoadedData.error;\n  var delegateRegions = React.useMemo(function () {\n    return (delegateGroups === null || delegateGroups === void 0 ? void 0 : delegateGroups.filter(function (group) {\n      return group.parent_group_id === null;\n    })) || [];\n  }, [delegateGroups]);\n  var delegateSubregions = React.useMemo(function () {\n    return delegateGroups === null || delegateGroups === void 0 ? void 0 : delegateGroups.reduce(function (_delegateSubregions, group) {\n      if (group.parent_group_id) {\n        var parentGroup = delegateGroups.find(function (parent) {\n          return parent.id === group.parent_group_id;\n        });\n        if (parentGroup) {\n          var updatedSubregions = _objectSpread({}, _delegateSubregions);\n          updatedSubregions[parentGroup.id] = updatedSubregions[parentGroup.id] || [];\n          updatedSubregions[parentGroup.id].push(group);\n          return updatedSubregions;\n        }\n      }\n      return _delegateSubregions;\n    }, {});\n  }, [delegateGroups]);\n  var _useHash = useHash(),\n    _useHash2 = _slicedToArray(_useHash, 2),\n    hash = _useHash2[0],\n    setHash = _useHash2[1];\n  var activeRegion = React.useMemo(function () {\n    if (hash === ALL_REGIONS.id) return ALL_REGIONS;\n    var selectedRegionIndex = delegateRegions.findIndex(function (region) {\n      return region.metadata.friendly_id === hash;\n    });\n    if (selectedRegionIndex === -1 && delegateRegions.length > 0) {\n      var _delegateRegions$;\n      setHash((_delegateRegions$ = delegateRegions[0]) === null || _delegateRegions$ === void 0 ? void 0 : _delegateRegions$.metadata.friendly_id);\n      return null;\n    }\n    return delegateRegions[selectedRegionIndex];\n  }, [delegateRegions, hash, setHash]);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    toggleAdmin = _useState2[0],\n    setToggleAdmin = _useState2[1];\n  var isAdminMode = toggleAdmin || activeRegion === ALL_REGIONS && loggedInUserPermissions.canViewDelegateAdminPage;\n  if (permissionsLoading || delegateGroupsLoading || !activeRegion) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 76\n    }\n  });\n  if (delegateGroupsError) return /*#__PURE__*/React.createElement(Errored, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 35\n    }\n  });\n  if (activeRegion === ALL_REGIONS && !isAdminMode) {\n    if (loggedInUserPermissions.canViewDelegateAdminPage) {\n      return /*#__PURE__*/React.createElement(Loading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 14\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(Errored, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 12\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    as: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, I18n.t('delegates_page.title')), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(I18nHTMLTranslate, {\n    i18nKey: \"about.structure.delegates_html\",\n    options: {\n      see_link: ''\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(I18nHTMLTranslate, {\n    i18nKey: \"delegates_page.acknowledges\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  })), loggedInUserPermissions.canViewDelegateAdminPage && /*#__PURE__*/React.createElement(Checkbox, {\n    label: \"Enable admin mode\",\n    toggle: true,\n    checked: isAdminMode,\n    onChange: function onChange(__, _ref) {\n      var checked = _ref.checked;\n      return setToggleAdmin(checked);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    only: \"computer\",\n    computer: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, I18n.t('delegates_page.regions')), /*#__PURE__*/React.createElement(Menu, {\n    vertical: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, delegateRegions.map(function (region) {\n    return /*#__PURE__*/React.createElement(Menu.Item, {\n      key: region.id,\n      name: region.name,\n      active: region.metadata.friendly_id === hash,\n      onClick: function onClick() {\n        return setHash(region.metadata.friendly_id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    });\n  }), isAdminMode && /*#__PURE__*/React.createElement(Menu.Item, {\n    key: ALL_REGIONS.id,\n    name: ALL_REGIONS.name,\n    active: activeRegion === ALL_REGIONS,\n    onClick: function onClick() {\n      return setHash(ALL_REGIONS.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Grid.Column, {\n    stretched: true,\n    computer: 12,\n    mobile: 16,\n    tablet: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Segment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Row, {\n    only: \"computer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, activeRegion.name)), /*#__PURE__*/React.createElement(Grid.Row, {\n    only: \"tablet mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    inline: true,\n    options: delegateRegions.map(function (region) {\n      return {\n        key: region.id,\n        text: region.name,\n        value: region.metadata.friendly_id\n      };\n    }),\n    value: hash,\n    onChange: function onChange(__, _ref2) {\n      var value = _ref2.value;\n      return setHash(value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(DelegatesOfRegion, {\n    activeRegion: activeRegion,\n    delegateSubregions: delegateSubregions[activeRegion.id] || [],\n    isAdminMode: isAdminMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"names":["React","useState","Checkbox","Dropdown","Grid","Header","Menu","Segment","I18n","apiV0Urls","I18nHTMLTranslate","useLoadedData","Errored","Loading","useLoggedInUserPermissions","groupTypes","DelegatesOfRegion","ALL_REGIONS","useHash","Delegates","_this","_useLoggedInUserPermi","loggedInUserPermissions","permissionsLoading","loading","_useLoadedData","userGroups","list","delegate_regions","isActive","delegateGroups","data","delegateGroupsLoading","delegateGroupsError","error","delegateRegions","useMemo","filter","group","parent_group_id","delegateSubregions","reduce","_delegateSubregions","parentGroup","find","parent","id","updatedSubregions","_objectSpread","push","_useHash","_useHash2","_slicedToArray","hash","setHash","activeRegion","selectedRegionIndex","findIndex","region","metadata","friendly_id","length","_delegateRegions$","_useState","_useState2","toggleAdmin","setToggleAdmin","isAdminMode","canViewDelegateAdminPage","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","as","t","i18nKey","options","see_link","label","toggle","checked","onChange","__","_ref","container","Column","only","computer","vertical","map","Item","key","name","active","onClick","stretched","mobile","tablet","centered","Row","inline","text","value","_ref2"],"sources":["/app/WcaOnRails/app/webpacker/components/Delegates/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nimport {\n  Checkbox,\n  Dropdown,\n  Grid,\n  Header,\n  Menu,\n  Segment,\n} from 'semantic-ui-react';\nimport I18n from '../../lib/i18n';\n\nimport { apiV0Urls } from '../../lib/requests/routes.js.erb';\nimport '../../stylesheets/delegates/style.scss';\nimport I18nHTMLTranslate from '../I18nHTMLTranslate';\nimport useLoadedData from '../../lib/hooks/useLoadedData';\nimport Errored from '../Requests/Errored';\nimport Loading from '../Requests/Loading';\nimport useLoggedInUserPermissions from '../../lib/hooks/useLoggedInUserPermissions';\nimport { groupTypes } from '../../lib/wca-data.js.erb';\nimport DelegatesOfRegion, { ALL_REGIONS } from './DelegatesOfRegion';\nimport useHash from '../../lib/hooks/useHash';\n\n// let i18n-tasks know the key is used\n// i18n-tasks-use t('delegates_page.acknowledges')\n\nexport default function Delegates() {\n  const { loggedInUserPermissions, loading: permissionsLoading } = useLoggedInUserPermissions();\n  const {\n    data: delegateGroups,\n    loading: delegateGroupsLoading,\n    error: delegateGroupsError,\n  } = useLoadedData(apiV0Urls.userGroups.list(groupTypes.delegate_regions, 'name', { isActive: true }));\n  const delegateRegions = React.useMemo(\n    () => delegateGroups?.filter((group) => group.parent_group_id === null) || [],\n    [delegateGroups],\n  );\n  const delegateSubregions = React.useMemo(\n    () => delegateGroups?.reduce((_delegateSubregions, group) => {\n      if (group.parent_group_id) {\n        const parentGroup = delegateGroups.find(\n          (parent) => parent.id === group.parent_group_id,\n        );\n        if (parentGroup) {\n          const updatedSubregions = { ..._delegateSubregions };\n          updatedSubregions[parentGroup.id] = updatedSubregions[parentGroup.id] || [];\n          updatedSubregions[parentGroup.id].push(group);\n          return updatedSubregions;\n        }\n      }\n      return _delegateSubregions;\n    }, {}),\n    [delegateGroups],\n  );\n\n  const [hash, setHash] = useHash();\n\n  const activeRegion = React.useMemo(() => {\n    if (hash === ALL_REGIONS.id) return ALL_REGIONS;\n    const selectedRegionIndex = delegateRegions.findIndex(\n      (region) => region.metadata.friendly_id === hash,\n    );\n    if (selectedRegionIndex === -1 && delegateRegions.length > 0) {\n      setHash(delegateRegions[0]?.metadata.friendly_id);\n      return null;\n    }\n    return delegateRegions[selectedRegionIndex];\n  }, [delegateRegions, hash, setHash]);\n\n  const [toggleAdmin, setToggleAdmin] = useState(false);\n  const isAdminMode = toggleAdmin || (\n    activeRegion === ALL_REGIONS && loggedInUserPermissions.canViewDelegateAdminPage\n  );\n\n  if (permissionsLoading || delegateGroupsLoading || !activeRegion) return <Loading />;\n  if (delegateGroupsError) return <Errored />;\n  if (activeRegion === ALL_REGIONS && !isAdminMode) {\n    if (loggedInUserPermissions.canViewDelegateAdminPage) {\n      return <Loading />;\n    }\n    return <Errored />;\n  }\n\n  return (\n    <div className=\"container\">\n      <Header as=\"h1\">{I18n.t('delegates_page.title')}</Header>\n      <p>\n        <I18nHTMLTranslate\n          i18nKey=\"about.structure.delegates_html\"\n          options={{ see_link: '' }}\n        />\n      </p>\n      <p>\n        <I18nHTMLTranslate i18nKey=\"delegates_page.acknowledges\" />\n      </p>\n      {loggedInUserPermissions.canViewDelegateAdminPage && (\n        <Checkbox\n          label=\"Enable admin mode\"\n          toggle\n          checked={isAdminMode}\n          onChange={(__, { checked }) => setToggleAdmin(checked)}\n        />\n      )}\n      <Grid container>\n        <Grid.Column only=\"computer\" computer={4}>\n          <Header>{I18n.t('delegates_page.regions')}</Header>\n          <Menu vertical>\n            {delegateRegions.map((region) => (\n              <Menu.Item\n                key={region.id}\n                name={region.name}\n                active={region.metadata.friendly_id === hash}\n                onClick={() => setHash(region.metadata.friendly_id)}\n              />\n            ))}\n            {isAdminMode && (\n              <Menu.Item\n                key={ALL_REGIONS.id}\n                name={ALL_REGIONS.name}\n                active={activeRegion === ALL_REGIONS}\n                onClick={() => setHash(ALL_REGIONS.id)}\n              />\n            )}\n          </Menu>\n        </Grid.Column>\n\n        <Grid.Column stretched computer={12} mobile={16} tablet={16}>\n          <Segment>\n            <Grid container centered>\n              <Grid.Row only=\"computer\">\n                <Header>{activeRegion.name}</Header>\n              </Grid.Row>\n              <Grid.Row only=\"tablet mobile\">\n                <Dropdown\n                  inline\n                  options={delegateRegions.map((region) => ({\n                    key: region.id,\n                    text: region.name,\n                    value: region.metadata.friendly_id,\n                  }))}\n                  value={hash}\n                  onChange={(__, { value }) => setHash(value)}\n                />\n              </Grid.Row>\n              <DelegatesOfRegion\n                activeRegion={activeRegion}\n                delegateSubregions={delegateSubregions[activeRegion.id] || []}\n                isAdminMode={isAdminMode}\n              />\n            </Grid>\n          </Segment>\n        </Grid.Column>\n      </Grid>\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,SACEC,QAAQ,EACRC,QAAQ,EACRC,IAAI,EACJC,MAAM,EACNC,IAAI,EACJC,OAAO,QACF,mBAAmB;AAC1B,OAAOC,IAAI;AAEX,SAASC,SAAS;AAClB;AACA,OAAOC,iBAAiB;AACxB,OAAOC,aAAa;AACpB,OAAOC,OAAO;AACd,OAAOC,OAAO;AACd,OAAOC,0BAA0B;AACjC,SAASC,UAAU;AACnB,OAAOC,iBAAiB,IAAIC,WAAW;AACvC,OAAOC,OAAO;;AAEd;AACA;;AAEA,eAAe,SAASC,SAASA,CAAA,EAAG;EAAA,IAAAC,KAAA;EAClC,IAAAC,qBAAA,GAAiEP,0BAA0B,CAAC,CAAC;IAArFQ,uBAAuB,GAAAD,qBAAA,CAAvBC,uBAAuB;IAAWC,kBAAkB,GAAAF,qBAAA,CAA3BG,OAAO;EACxC,IAAAC,cAAA,GAIId,aAAa,CAACF,SAAS,CAACiB,UAAU,CAACC,IAAI,CAACZ,UAAU,CAACa,gBAAgB,EAAE,MAAM,EAAE;MAAEC,QAAQ,EAAE;IAAK,CAAC,CAAC,CAAC;IAH7FC,cAAc,GAAAL,cAAA,CAApBM,IAAI;IACKC,qBAAqB,GAAAP,cAAA,CAA9BD,OAAO;IACAS,mBAAmB,GAAAR,cAAA,CAA1BS,KAAK;EAEP,IAAMC,eAAe,GAAGnC,KAAK,CAACoC,OAAO,CACnC;IAAA,OAAM,CAAAN,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEO,MAAM,CAAC,UAACC,KAAK;MAAA,OAAKA,KAAK,CAACC,eAAe,KAAK,IAAI;IAAA,EAAC,KAAI,EAAE;EAAA,GAC7E,CAACT,cAAc,CACjB,CAAC;EACD,IAAMU,kBAAkB,GAAGxC,KAAK,CAACoC,OAAO,CACtC;IAAA,OAAMN,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEW,MAAM,CAAC,UAACC,mBAAmB,EAAEJ,KAAK,EAAK;MAC3D,IAAIA,KAAK,CAACC,eAAe,EAAE;QACzB,IAAMI,WAAW,GAAGb,cAAc,CAACc,IAAI,CACrC,UAACC,MAAM;UAAA,OAAKA,MAAM,CAACC,EAAE,KAAKR,KAAK,CAACC,eAAe;QAAA,CACjD,CAAC;QACD,IAAII,WAAW,EAAE;UACf,IAAMI,iBAAiB,GAAAC,aAAA,KAAQN,mBAAmB,CAAE;UACpDK,iBAAiB,CAACJ,WAAW,CAACG,EAAE,CAAC,GAAGC,iBAAiB,CAACJ,WAAW,CAACG,EAAE,CAAC,IAAI,EAAE;UAC3EC,iBAAiB,CAACJ,WAAW,CAACG,EAAE,CAAC,CAACG,IAAI,CAACX,KAAK,CAAC;UAC7C,OAAOS,iBAAiB;QAC1B;MACF;MACA,OAAOL,mBAAmB;IAC5B,CAAC,EAAE,CAAC,CAAC,CAAC;EAAA,GACN,CAACZ,cAAc,CACjB,CAAC;EAED,IAAAoB,QAAA,GAAwBhC,OAAO,CAAC,CAAC;IAAAiC,SAAA,GAAAC,cAAA,CAAAF,QAAA;IAA1BG,IAAI,GAAAF,SAAA;IAAEG,OAAO,GAAAH,SAAA;EAEpB,IAAMI,YAAY,GAAGvD,KAAK,CAACoC,OAAO,CAAC,YAAM;IACvC,IAAIiB,IAAI,KAAKpC,WAAW,CAAC6B,EAAE,EAAE,OAAO7B,WAAW;IAC/C,IAAMuC,mBAAmB,GAAGrB,eAAe,CAACsB,SAAS,CACnD,UAACC,MAAM;MAAA,OAAKA,MAAM,CAACC,QAAQ,CAACC,WAAW,KAAKP,IAAI;IAAA,CAClD,CAAC;IACD,IAAIG,mBAAmB,KAAK,CAAC,CAAC,IAAIrB,eAAe,CAAC0B,MAAM,GAAG,CAAC,EAAE;MAAA,IAAAC,iBAAA;MAC5DR,OAAO,EAAAQ,iBAAA,GAAC3B,eAAe,CAAC,CAAC,CAAC,cAAA2B,iBAAA,uBAAlBA,iBAAA,CAAoBH,QAAQ,CAACC,WAAW,CAAC;MACjD,OAAO,IAAI;IACb;IACA,OAAOzB,eAAe,CAACqB,mBAAmB,CAAC;EAC7C,CAAC,EAAE,CAACrB,eAAe,EAAEkB,IAAI,EAAEC,OAAO,CAAC,CAAC;EAEpC,IAAAS,SAAA,GAAsC9D,QAAQ,CAAC,KAAK,CAAC;IAAA+D,UAAA,GAAAZ,cAAA,CAAAW,SAAA;IAA9CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAMG,WAAW,GAAGF,WAAW,IAC7BV,YAAY,KAAKtC,WAAW,IAAIK,uBAAuB,CAAC8C,wBACzD;EAED,IAAI7C,kBAAkB,IAAIS,qBAAqB,IAAI,CAACuB,YAAY,EAAE,oBAAOvD,KAAA,CAAAqE,aAAA,CAACxD,OAAO;IAAAyD,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC;EACpF,IAAI1C,mBAAmB,EAAE,oBAAOjC,KAAA,CAAAqE,aAAA,CAACzD,OAAO;IAAA0D,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC;EAC3C,IAAIpB,YAAY,KAAKtC,WAAW,IAAI,CAACkD,WAAW,EAAE;IAChD,IAAI7C,uBAAuB,CAAC8C,wBAAwB,EAAE;MACpD,oBAAOpE,KAAA,CAAAqE,aAAA,CAACxD,OAAO;QAAAyD,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAE,CAAC;IACpB;IACA,oBAAO3E,KAAA,CAAAqE,aAAA,CAACzD,OAAO;MAAA0D,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC;EACpB;EAEA,oBACE3E,KAAA,CAAAqE,aAAA;IAAKO,SAAS,EAAC,WAAW;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxB3E,KAAA,CAAAqE,aAAA,CAAChE,MAAM;IAACwE,EAAE,EAAC,IAAI;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEnE,IAAI,CAACsE,CAAC,CAAC,sBAAsB,CAAU,CAAC,eACzD9E,KAAA,CAAAqE,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE3E,KAAA,CAAAqE,aAAA,CAAC3D,iBAAiB;IAChBqE,OAAO,EAAC,gCAAgC;IACxCC,OAAO,EAAE;MAAEC,QAAQ,EAAE;IAAG,CAAE;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC3B,CACA,CAAC,eACJ3E,KAAA,CAAAqE,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE3E,KAAA,CAAAqE,aAAA,CAAC3D,iBAAiB;IAACqE,OAAO,EAAC,6BAA6B;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACzD,CAAC,EACHrD,uBAAuB,CAAC8C,wBAAwB,iBAC/CpE,KAAA,CAAAqE,aAAA,CAACnE,QAAQ;IACPgF,KAAK,EAAC,mBAAmB;IACzBC,MAAM;IACNC,OAAO,EAAEjB,WAAY;IACrBkB,QAAQ,EAAE,SAAAA,SAACC,EAAE,EAAAC,IAAA;MAAA,IAAIH,OAAO,GAAAG,IAAA,CAAPH,OAAO;MAAA,OAAOlB,cAAc,CAACkB,OAAO,CAAC;IAAA,CAAC;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACxD,CACF,eACD3E,KAAA,CAAAqE,aAAA,CAACjE,IAAI;IAACoF,SAAS;IAAAlB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACb3E,KAAA,CAAAqE,aAAA,CAACjE,IAAI,CAACqF,MAAM;IAACC,IAAI,EAAC,UAAU;IAACC,QAAQ,EAAE,CAAE;IAAArB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvC3E,KAAA,CAAAqE,aAAA,CAAChE,MAAM;IAAAiE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEnE,IAAI,CAACsE,CAAC,CAAC,wBAAwB,CAAU,CAAC,eACnD9E,KAAA,CAAAqE,aAAA,CAAC/D,IAAI;IAACsF,QAAQ;IAAAtB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACXxC,eAAe,CAAC0D,GAAG,CAAC,UAACnC,MAAM;IAAA,oBAC1B1D,KAAA,CAAAqE,aAAA,CAAC/D,IAAI,CAACwF,IAAI;MACRC,GAAG,EAAErC,MAAM,CAACZ,EAAG;MACfkD,IAAI,EAAEtC,MAAM,CAACsC,IAAK;MAClBC,MAAM,EAAEvC,MAAM,CAACC,QAAQ,CAACC,WAAW,KAAKP,IAAK;MAC7C6C,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAM5C,OAAO,CAACI,MAAM,CAACC,QAAQ,CAACC,WAAW,CAAC;MAAA,CAAC;MAAAU,MAAA,EAAAlD,KAAA;MAAAmD,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACrD,CAAC;EAAA,CACH,CAAC,EACDR,WAAW,iBACVnE,KAAA,CAAAqE,aAAA,CAAC/D,IAAI,CAACwF,IAAI;IACRC,GAAG,EAAE9E,WAAW,CAAC6B,EAAG;IACpBkD,IAAI,EAAE/E,WAAW,CAAC+E,IAAK;IACvBC,MAAM,EAAE1C,YAAY,KAAKtC,WAAY;IACrCiF,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAM5C,OAAO,CAACrC,WAAW,CAAC6B,EAAE,CAAC;IAAA,CAAC;IAAAwB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACxC,CAEC,CACK,CAAC,eAEd3E,KAAA,CAAAqE,aAAA,CAACjE,IAAI,CAACqF,MAAM;IAACU,SAAS;IAACR,QAAQ,EAAE,EAAG;IAACS,MAAM,EAAE,EAAG;IAACC,MAAM,EAAE,EAAG;IAAA/B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1D3E,KAAA,CAAAqE,aAAA,CAAC9D,OAAO;IAAA+D,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACN3E,KAAA,CAAAqE,aAAA,CAACjE,IAAI;IAACoF,SAAS;IAACc,QAAQ;IAAAhC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtB3E,KAAA,CAAAqE,aAAA,CAACjE,IAAI,CAACmG,GAAG;IAACb,IAAI,EAAC,UAAU;IAAApB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvB3E,KAAA,CAAAqE,aAAA,CAAChE,MAAM;IAAAiE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEpB,YAAY,CAACyC,IAAa,CAC3B,CAAC,eACXhG,KAAA,CAAAqE,aAAA,CAACjE,IAAI,CAACmG,GAAG;IAACb,IAAI,EAAC,eAAe;IAAApB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5B3E,KAAA,CAAAqE,aAAA,CAAClE,QAAQ;IACPqG,MAAM;IACNxB,OAAO,EAAE7C,eAAe,CAAC0D,GAAG,CAAC,UAACnC,MAAM;MAAA,OAAM;QACxCqC,GAAG,EAAErC,MAAM,CAACZ,EAAE;QACd2D,IAAI,EAAE/C,MAAM,CAACsC,IAAI;QACjBU,KAAK,EAAEhD,MAAM,CAACC,QAAQ,CAACC;MACzB,CAAC;IAAA,CAAC,CAAE;IACJ8C,KAAK,EAAErD,IAAK;IACZgC,QAAQ,EAAE,SAAAA,SAACC,EAAE,EAAAqB,KAAA;MAAA,IAAID,KAAK,GAAAC,KAAA,CAALD,KAAK;MAAA,OAAOpD,OAAO,CAACoD,KAAK,CAAC;IAAA,CAAC;IAAApC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC7C,CACO,CAAC,eACX3E,KAAA,CAAAqE,aAAA,CAACrD,iBAAiB;IAChBuC,YAAY,EAAEA,YAAa;IAC3Bf,kBAAkB,EAAEA,kBAAkB,CAACe,YAAY,CAACT,EAAE,CAAC,IAAI,EAAG;IAC9DqB,WAAW,EAAEA,WAAY;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC1B,CACG,CACC,CACE,CACT,CACH,CAAC;AAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}