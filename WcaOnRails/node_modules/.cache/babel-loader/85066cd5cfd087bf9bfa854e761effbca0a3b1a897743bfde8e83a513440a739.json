{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/Results/ResultForm/AttemptsForm.js\";\nimport React from 'react';\nimport { Form, Grid } from 'semantic-ui-react';\nimport AttemptResultFieldWrapper from \"./AttemptResultFieldWrapper\";\nimport MarkerField from \"../WCALive/AttemptResultField/MarkerField\";\nimport { average, best, formatAttemptResult } from \"../../../lib/wca-live/attempts\";\nimport useNestedInputUpdater from \"../../../lib/hooks/useNestedInputUpdater\";\nfunction AttemptsForm(_ref) {\n  var _this = this;\n  var state = _ref.state,\n    setState = _ref.setState,\n    eventId = _ref.eventId,\n    computeAverage = _ref.computeAverage;\n  var attempts = state.attempts,\n    markerBest = state.markerBest,\n    markerAvg = state.markerAvg;\n  var setMarkerBest = useNestedInputUpdater(setState, 'markerBest');\n  var setMarkerAvg = useNestedInputUpdater(setState, 'markerAvg');\n\n  // FIXME: we use padded grid here because Bootstrap's row conflicts with\n  // FUI's row and messes up the negative margins... :(\n  /* eslint react/no-array-index-key: \"off\" */\n  return /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    stackable: true,\n    padded: true,\n    columns: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid.Column, {\n    className: \"attempts-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, attempts.map(function (attempt, index) {\n    return /*#__PURE__*/React.createElement(AttemptResultFieldWrapper, {\n      key: index,\n      index: index,\n      attempt: attempt,\n      setState: setState,\n      eventId: eventId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Grid.Column, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Input, {\n    label: \"Best\",\n    readOnly: true,\n    value: formatAttemptResult(best(attempts), eventId),\n    action: /*#__PURE__*/React.createElement(MarkerField, {\n      onChange: setMarkerBest,\n      marker: markerBest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }), computeAverage && /*#__PURE__*/React.createElement(Form.Input, {\n    label: \"Average\",\n    readOnly: true,\n    value: formatAttemptResult(average(state.attempts, eventId), eventId),\n    action: /*#__PURE__*/React.createElement(MarkerField, {\n      onChange: setMarkerAvg,\n      marker: markerAvg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }))));\n}\nexport default AttemptsForm;","map":{"version":3,"names":["React","Form","Grid","AttemptResultFieldWrapper","MarkerField","average","best","formatAttemptResult","useNestedInputUpdater","AttemptsForm","_ref","_this","state","setState","eventId","computeAverage","attempts","markerBest","markerAvg","setMarkerBest","setMarkerAvg","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","stackable","padded","columns","Column","className","map","attempt","index","key","Input","label","readOnly","value","action","onChange","marker"],"sources":["/app/WcaOnRails/app/webpacker/components/Results/ResultForm/AttemptsForm.js"],"sourcesContent":["import React from 'react';\nimport {\n  Form, Grid,\n} from 'semantic-ui-react';\n\nimport AttemptResultFieldWrapper from './AttemptResultFieldWrapper';\nimport MarkerField from '../WCALive/AttemptResultField/MarkerField';\nimport { average, best, formatAttemptResult } from '../../../lib/wca-live/attempts';\nimport useNestedInputUpdater from '../../../lib/hooks/useNestedInputUpdater';\n\nfunction AttemptsForm({\n  state, setState, eventId, computeAverage,\n}) {\n  const { attempts, markerBest, markerAvg } = state;\n\n  const setMarkerBest = useNestedInputUpdater(setState, 'markerBest');\n  const setMarkerAvg = useNestedInputUpdater(setState, 'markerAvg');\n\n  // FIXME: we use padded grid here because Bootstrap's row conflicts with\n  // FUI's row and messes up the negative margins... :(\n  /* eslint react/no-array-index-key: \"off\" */\n  return (\n    <Form>\n      <Grid stackable padded columns={2}>\n        <Grid.Column className=\"attempts-column\">\n          {attempts.map((attempt, index) => (\n            <AttemptResultFieldWrapper\n              key={index}\n              index={index}\n              attempt={attempt}\n              setState={setState}\n              eventId={eventId}\n            />\n          ))}\n        </Grid.Column>\n        <Grid.Column>\n          <Form.Input\n            label=\"Best\"\n            readOnly\n            value={formatAttemptResult(best(attempts), eventId)}\n            action={(\n              <MarkerField\n                onChange={setMarkerBest}\n                marker={markerBest}\n              />\n            )}\n          />\n          {computeAverage && (\n          <Form.Input\n            label=\"Average\"\n            readOnly\n            value={formatAttemptResult(average(state.attempts, eventId), eventId)}\n            action={(\n              <MarkerField\n                onChange={setMarkerAvg}\n                marker={markerAvg}\n              />\n            )}\n          />\n          )}\n        </Grid.Column>\n      </Grid>\n    </Form>\n  );\n}\n\nexport default AttemptsForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}