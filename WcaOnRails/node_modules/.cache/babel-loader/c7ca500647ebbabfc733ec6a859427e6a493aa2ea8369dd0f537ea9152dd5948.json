{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/IncidentsLog/Tags.jsx\";\nimport React, { useContext } from 'react';\nimport { Button, Popup } from 'semantic-ui-react';\nimport { DelegateMattersContext } from \"../../lib/contexts\";\nimport { competitionUrl, competitionReportUrl } from \"../../lib/requests/routes.js.erb\";\n\n// helpers //\n\nfunction SearchForTagButton(addTagToSearch, tag) {\n  return /*#__PURE__*/React.createElement(Button, {\n    basic: true,\n    onClick: function onClick() {\n      return addTagToSearch(tag);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, \"Filter by this tag\");\n}\n\n// tags //\n\n/**\n * Displays a Tag for a regulation (or guideline).\n */\nexport function RegulationTag(_ref) {\n  var id = _ref.id,\n    type = _ref.type,\n    description = _ref.description,\n    link = _ref.link,\n    addToSearch = _ref.addToSearch;\n  var links = /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    className: \"hide-new-window-icon\",\n    href: link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, type, 's ', \"Reference\");\n  return /*#__PURE__*/React.createElement(Tag, {\n    tagType: \"incident\",\n    labelClass: \"primary\",\n    label: id,\n    title: \"\".concat(type, \" \").concat(id),\n    description: description,\n    links: links,\n    buttons: addToSearch && SearchForTagButton(addToSearch, id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  });\n}\n\n/**\n * Displays a Tag for a non-regulation tag (such as \"misscramble\" or \"duplicate\").\n */\nexport function MiscTag(_ref2) {\n  var tag = _ref2.tag,\n    addToSearch = _ref2.addToSearch;\n  return /*#__PURE__*/React.createElement(Tag, {\n    tagType: \"incident\",\n    labelClass: \"default\",\n    label: tag,\n    title: tag,\n    buttons: addToSearch && SearchForTagButton(addToSearch, tag),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  });\n}\n\n/**\n * Displays a Tag for a competition.\n */\nexport function CompetitionTag(_ref3) {\n  var id = _ref3.id,\n    name = _ref3.name,\n    comments = _ref3.comments;\n  var canViewDelegateMatters = useContext(DelegateMattersContext);\n  var links = canViewDelegateMatters ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    className: \"hide-new-window-icon\",\n    href: competitionUrl(id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Competition Page\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    className: \"hide-new-window-icon\",\n    href: competitionReportUrl(id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Delegate Report\")) : /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    className: \"hide-new-window-icon\",\n    href: competitionUrl(id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, \"Competition Page\");\n\n  // Note: comments should be null anyway if user can't view delegate matters\n  return /*#__PURE__*/React.createElement(Tag, {\n    tagType: \"competition\",\n    labelClass: \"info\",\n    label: id,\n    title: name,\n    description: canViewDelegateMatters ? comments : null,\n    links: links,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  });\n}\n\n/**\n * Displays a Tag which produces a popover when clicked.\n */\nfunction Tag(_ref4) {\n  var tagType = _ref4.tagType,\n    labelClass = _ref4.labelClass,\n    label = _ref4.label,\n    title = _ref4.title,\n    description = _ref4.description,\n    links = _ref4.links,\n    buttons = _ref4.buttons;\n  return /*#__PURE__*/React.createElement(Popup, {\n    header: title,\n    content: /*#__PURE__*/React.createElement(React.Fragment, null, description && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: description\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    })), links && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }), links), buttons && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }), buttons)),\n    on: \"click\",\n    trigger: /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(tagType, \"-tag label label-\").concat(labelClass),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, label),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"names":["React","useContext","Button","Popup","DelegateMattersContext","competitionUrl","competitionReportUrl","SearchForTagButton","addTagToSearch","tag","createElement","basic","onClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","RegulationTag","_ref","id","type","description","link","addToSearch","links","target","rel","className","href","Tag","tagType","labelClass","label","title","concat","buttons","MiscTag","_ref2","CompetitionTag","_ref3","name","comments","canViewDelegateMatters","Fragment","_ref4","header","content","dangerouslySetInnerHTML","__html","on","trigger"],"sources":["/app/WcaOnRails/app/webpacker/components/IncidentsLog/Tags.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Button, Popup } from 'semantic-ui-react';\nimport { DelegateMattersContext } from '../../lib/contexts';\nimport {\n  competitionUrl,\n  competitionReportUrl,\n} from '../../lib/requests/routes.js.erb';\n\n// helpers //\n\nfunction SearchForTagButton(addTagToSearch, tag) {\n  return (\n    <Button basic onClick={() => addTagToSearch(tag)}>\n      Filter by this tag\n    </Button>\n  );\n}\n\n// tags //\n\n/**\n * Displays a Tag for a regulation (or guideline).\n */\nexport function RegulationTag({\n  id,\n  type,\n  description,\n  link,\n  addToSearch,\n}) {\n  const links = (\n    <a target=\"_blank\" rel=\"noreferrer\" className=\"hide-new-window-icon\" href={link}>\n      {type}\n      {'s '}\n      Reference\n    </a>\n  );\n\n  return (\n    <Tag\n      tagType=\"incident\"\n      labelClass=\"primary\"\n      label={id}\n      title={`${type} ${id}`}\n      description={description}\n      links={links}\n      buttons={addToSearch && SearchForTagButton(addToSearch, id)}\n    />\n  );\n}\n\n/**\n * Displays a Tag for a non-regulation tag (such as \"misscramble\" or \"duplicate\").\n */\nexport function MiscTag({ tag, addToSearch }) {\n  return (\n    <Tag\n      tagType=\"incident\"\n      labelClass=\"default\"\n      label={tag}\n      title={tag}\n      buttons={addToSearch && SearchForTagButton(addToSearch, tag)}\n    />\n  );\n}\n\n/**\n * Displays a Tag for a competition.\n */\nexport function CompetitionTag({\n  id,\n  name,\n  comments,\n}) {\n  const canViewDelegateMatters = useContext(DelegateMattersContext);\n  const links = canViewDelegateMatters ? (\n    <>\n      <a target=\"_blank\" rel=\"noreferrer\" className=\"hide-new-window-icon\" href={competitionUrl(id)}>Competition Page</a>\n      <br />\n      <a target=\"_blank\" rel=\"noreferrer\" className=\"hide-new-window-icon\" href={competitionReportUrl(id)}>Delegate Report</a>\n    </>\n  ) : (\n    <a target=\"_blank\" rel=\"noreferrer\" className=\"hide-new-window-icon\" href={competitionUrl(id)}>Competition Page</a>\n  );\n\n  // Note: comments should be null anyway if user can't view delegate matters\n  return (\n    <Tag\n      tagType=\"competition\"\n      labelClass=\"info\"\n      label={id}\n      title={name}\n      description={canViewDelegateMatters ? comments : null}\n      links={links}\n    />\n  );\n}\n\n/**\n * Displays a Tag which produces a popover when clicked.\n */\nfunction Tag({\n  tagType,\n  labelClass,\n  label,\n  title,\n  description,\n  links,\n  buttons,\n}) {\n  return (\n    <Popup\n      header={title}\n      content={(\n        <>\n          {\n            description && (\n              <>\n                <hr />\n                {/* eslint-disable-next-line react/no-danger */}\n                <span dangerouslySetInnerHTML={{ __html: description }} />\n              </>\n            )\n          }\n          {\n            links && (\n              <>\n                <hr />\n                {links}\n              </>\n            )\n          }\n          {\n            buttons && (\n              <>\n                <hr />\n                {buttons}\n              </>\n            )\n          }\n        </>\n      )}\n      on=\"click\"\n      trigger={(\n        <span\n          className={`${tagType}-tag label label-${labelClass}`}\n        >\n          {label}\n        </span>\n      )}\n    />\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}