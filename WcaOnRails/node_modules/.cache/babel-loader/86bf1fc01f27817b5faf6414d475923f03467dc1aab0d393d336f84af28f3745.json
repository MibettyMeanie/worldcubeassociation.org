{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/RolesTab/ActiveRoles.jsx\";\nimport React from 'react';\nimport { Header, List, Icon } from 'semantic-ui-react';\nimport { teamUrl, panelUrls } from \"../../lib/requests/routes.js.erb\";\nimport Loading from \"../Requests/Loading\";\nimport useLoggedInUserPermissions from \"../../lib/hooks/useLoggedInUserPermissions\";\nimport { groupTypes, delegateRegionsStatus } from \"../../lib/wca-data.js.erb\";\nimport { getRoleDescription, getRoleSubDescription } from \"../../lib/helpers/roles-tab\";\nfunction hyperlink(role) {\n  if (role.group.group_type === groupTypes.delegate_regions) {\n    if ([delegateRegionsStatus.senior_delegate, delegateRegionsStatus.regional_delegate].includes(role.metadata.status)) {\n      return panelUrls.board.regionsManager;\n    }\n    return null;\n  }\n  if (role.group.group_type === groupTypes.teams_committees) {\n    return \"\".concat(teamUrl(role.group.id.split('_').pop()), \"/edit\");\n  }\n  if (role.group.group_type === groupTypes.translators) {\n    return panelUrls.wst.translators;\n  }\n  return null;\n}\nfunction isHyperlinkableRole(role) {\n  if (role.group.group_type === groupTypes.delegate_regions) {\n    return [delegateRegionsStatus.senior_delegate, delegateRegionsStatus.regional_delegate].includes(role.metadata.status);\n  }\n  return [groupTypes.teams_committees, groupTypes.translators].includes(role.group.group_type);\n}\nexport default function ActiveRoles(_ref) {\n  var _this = this;\n  var activeRoles = _ref.activeRoles,\n    setOpen = _ref.setOpen;\n  var _useLoggedInUserPermi = useLoggedInUserPermissions(),\n    loggedInUserPermissions = _useLoggedInUserPermi.loggedInUserPermissions,\n    loading = _useLoggedInUserPermi.loading;\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 12\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Active Roles\"), /*#__PURE__*/React.createElement(List, {\n    divided: true,\n    relaxed: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, activeRoles === null || activeRoles === void 0 ? void 0 : activeRoles.map(function (role) {\n    return /*#__PURE__*/React.createElement(List.Item, {\n      key: role.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(List.Content, {\n      floated: \"left\",\n      href: hyperlink(role),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"edit\",\n      size: \"large\",\n      link: true,\n      disabled: !loggedInUserPermissions.canEditRole(role),\n      onClick: isHyperlinkableRole(role) ? null : function () {\n        return setOpen(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(List.Content, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(List.Header, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, getRoleDescription(role)), /*#__PURE__*/React.createElement(List.Description, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, getRoleSubDescription(role))));\n  })));\n}","map":{"version":3,"names":["React","Header","List","Icon","teamUrl","panelUrls","Loading","useLoggedInUserPermissions","groupTypes","delegateRegionsStatus","getRoleDescription","getRoleSubDescription","hyperlink","role","group","group_type","delegate_regions","senior_delegate","regional_delegate","includes","metadata","status","board","regionsManager","teams_committees","concat","id","split","pop","translators","wst","isHyperlinkableRole","ActiveRoles","_ref","_this","activeRoles","setOpen","_useLoggedInUserPermi","loggedInUserPermissions","loading","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","divided","relaxed","map","Item","key","Content","floated","href","name","size","link","disabled","canEditRole","onClick","Description"],"sources":["/app/WcaOnRails/app/webpacker/components/RolesTab/ActiveRoles.jsx"],"sourcesContent":["import React from 'react';\nimport { Header, List, Icon } from 'semantic-ui-react';\nimport { teamUrl, panelUrls } from '../../lib/requests/routes.js.erb';\nimport Loading from '../Requests/Loading';\nimport useLoggedInUserPermissions from '../../lib/hooks/useLoggedInUserPermissions';\nimport { groupTypes, delegateRegionsStatus } from '../../lib/wca-data.js.erb';\nimport { getRoleDescription, getRoleSubDescription } from '../../lib/helpers/roles-tab';\n\nfunction hyperlink(role) {\n  if (role.group.group_type === groupTypes.delegate_regions) {\n    if ([\n      delegateRegionsStatus.senior_delegate,\n      delegateRegionsStatus.regional_delegate,\n    ].includes(role.metadata.status)) {\n      return panelUrls.board.regionsManager;\n    }\n    return null;\n  }\n  if (role.group.group_type === groupTypes.teams_committees) {\n    return `${teamUrl(role.group.id.split('_').pop())}/edit`;\n  }\n  if (role.group.group_type === groupTypes.translators) {\n    return panelUrls.wst.translators;\n  }\n  return null;\n}\n\nfunction isHyperlinkableRole(role) {\n  if (role.group.group_type === groupTypes.delegate_regions) {\n    return [\n      delegateRegionsStatus.senior_delegate,\n      delegateRegionsStatus.regional_delegate,\n    ].includes(role.metadata.status);\n  }\n  return [groupTypes.teams_committees, groupTypes.translators].includes(role.group.group_type);\n}\n\nexport default function ActiveRoles({ activeRoles, setOpen }) {\n  const { loggedInUserPermissions, loading } = useLoggedInUserPermissions();\n  if (loading) {\n    return <Loading />;\n  }\n  return (\n    <>\n      <Header>Active Roles</Header>\n      <List divided relaxed>\n        {activeRoles?.map((role) => (\n          <List.Item key={role.id}>\n            <List.Content\n              floated=\"left\"\n              href={hyperlink(role)}\n            >\n              <Icon\n                name=\"edit\"\n                size=\"large\"\n                link\n                disabled={!loggedInUserPermissions.canEditRole(role)}\n                onClick={isHyperlinkableRole(role) ? null : () => setOpen(true)}\n              />\n            </List.Content>\n            <List.Content>\n              <List.Header>{getRoleDescription(role)}</List.Header>\n              <List.Description>{getRoleSubDescription(role)}</List.Description>\n            </List.Content>\n          </List.Item>\n        ))}\n      </List>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}