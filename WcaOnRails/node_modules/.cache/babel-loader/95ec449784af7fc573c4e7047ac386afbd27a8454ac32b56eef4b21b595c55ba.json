{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/EditSchedule/EditActivities/EditActivityModal.js\";\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport React, { useEffect } from 'react';\nimport { Button, Container, Form, Modal } from 'semantic-ui-react';\nimport { DateTime } from 'luxon';\nimport useInputState from \"../../../lib/hooks/useInputState\";\nvar commonActivityCodes = {\n  'other-registration': 'On-site registration',\n  'other-checkin': 'Check-in',\n  'other-tutorial': 'Tutorial for new competitors',\n  'other-multi': 'Cube submission for 3x3x3 Multi-Blind',\n  'other-breakfast': 'Breakfast',\n  'other-lunch': 'Lunch',\n  'other-dinner': 'Dinner',\n  'other-awards': 'Awards',\n  'other-misc': 'Other'\n};\nvar otherActivityCodeOptions = Object.entries(commonActivityCodes).map(function (_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    activityCode = _ref2[0],\n    description = _ref2[1];\n  return {\n    key: activityCode,\n    text: description,\n    value: activityCode\n  };\n});\nfunction EditActivityModal(_ref3) {\n  var _startLuxon$setLocale, _startLuxon$setLocale2, _endLuxon$setLocale;\n  var isModalOpen = _ref3.isModalOpen,\n    activity = _ref3.activity,\n    startLuxon = _ref3.startLuxon,\n    endLuxon = _ref3.endLuxon,\n    onModalClose = _ref3.onModalClose,\n    dateLocale = _ref3.dateLocale;\n  var _useInputState = useInputState(),\n    _useInputState2 = _slicedToArray(_useInputState, 2),\n    activityCode = _useInputState2[0],\n    setActivityCode = _useInputState2[1];\n  var _useInputState3 = useInputState(),\n    _useInputState4 = _slicedToArray(_useInputState3, 2),\n    activityName = _useInputState4[0],\n    setActivityName = _useInputState4[1];\n  var setActivityCodeInternal = function setActivityCodeInternal(evt, data) {\n    var newActivityCode = data.value;\n\n    // only if there is no name yet: assign a default name based on the activity code\n    if (!activityName && newActivityCode) {\n      setActivityName(commonActivityCodes[newActivityCode]);\n    }\n    setActivityCode(evt, data);\n  };\n\n  // We have to assign state in this awkward way because of an opinionated conflict\n  //   between FullCalendar and SemanticUI. See comment at the beginning of index.js for details.\n  useEffect(function () {\n    setActivityCode(activity === null || activity === void 0 ? void 0 : activity.activityCode);\n    setActivityName(activity === null || activity === void 0 ? void 0 : activity.name);\n  }, [activity, setActivityCode, setActivityName]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: isModalOpen,\n    dimmer: \"blurring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Add a custom activity\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    as: Form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Select, {\n    label: \"Type of activity\",\n    name: \"activity-type\",\n    options: otherActivityCodeOptions,\n    value: activityCode,\n    onChange: setActivityCodeInternal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form.Input, {\n    label: \"Name\",\n    name: \"activity-name\",\n    value: activityName,\n    onChange: setActivityName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    text: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"On\", ' ', startLuxon === null || startLuxon === void 0 || (_startLuxon$setLocale = startLuxon.setLocale(dateLocale)) === null || _startLuxon$setLocale === void 0 ? void 0 : _startLuxon$setLocale.toLocaleString(DateTime.DATE_HUGE), ' ', \"from\", ' ', startLuxon === null || startLuxon === void 0 || (_startLuxon$setLocale2 = startLuxon.setLocale(dateLocale)) === null || _startLuxon$setLocale2 === void 0 ? void 0 : _startLuxon$setLocale2.toLocaleString(DateTime.TIME_SIMPLE), ' ', \"until\", ' ', endLuxon === null || endLuxon === void 0 || (_endLuxon$setLocale = endLuxon.setLocale(dateLocale)) === null || _endLuxon$setLocale === void 0 ? void 0 : _endLuxon$setLocale.toLocaleString(DateTime.TIME_SIMPLE))), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: \"save\",\n    content: \"Save\",\n    positive: true,\n    onClick: function onClick() {\n      return onModalClose(true, {\n        activityCode: activityCode,\n        activityName: activityName\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    icon: \"cancel\",\n    content: \"Cancel\",\n    negative: true,\n    onClick: function onClick() {\n      return onModalClose(false, {\n        activityCode: activityCode,\n        activityName: activityName\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  })));\n}\nexport default EditActivityModal;","map":{"version":3,"names":["React","useEffect","Button","Container","Form","Modal","DateTime","useInputState","commonActivityCodes","otherActivityCodeOptions","Object","entries","map","_ref","_ref2","_slicedToArray","activityCode","description","key","text","value","EditActivityModal","_ref3","_startLuxon$setLocale","_startLuxon$setLocale2","_endLuxon$setLocale","isModalOpen","activity","startLuxon","endLuxon","onModalClose","dateLocale","_useInputState","_useInputState2","setActivityCode","_useInputState3","_useInputState4","activityName","setActivityName","setActivityCodeInternal","evt","data","newActivityCode","name","createElement","open","dimmer","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","as","Select","label","options","onChange","Input","setLocale","toLocaleString","DATE_HUGE","TIME_SIMPLE","Actions","icon","content","positive","onClick","negative"],"sources":["/app/WcaOnRails/app/webpacker/components/EditSchedule/EditActivities/EditActivityModal.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport {\n  Button,\n  Container,\n  Form,\n  Modal,\n} from 'semantic-ui-react';\nimport { DateTime } from 'luxon';\nimport useInputState from '../../../lib/hooks/useInputState';\n\nconst commonActivityCodes = {\n  'other-registration': 'On-site registration',\n  'other-checkin': 'Check-in',\n  'other-tutorial': 'Tutorial for new competitors',\n  'other-multi': 'Cube submission for 3x3x3 Multi-Blind',\n  'other-breakfast': 'Breakfast',\n  'other-lunch': 'Lunch',\n  'other-dinner': 'Dinner',\n  'other-awards': 'Awards',\n  'other-misc': 'Other',\n};\n\nconst otherActivityCodeOptions = Object.entries(commonActivityCodes)\n  .map(([activityCode, description]) => ({\n    key: activityCode,\n    text: description,\n    value: activityCode,\n  }));\n\nfunction EditActivityModal({\n  isModalOpen,\n  activity,\n  startLuxon,\n  endLuxon,\n  onModalClose,\n  dateLocale,\n}) {\n  const [activityCode, setActivityCode] = useInputState();\n  const [activityName, setActivityName] = useInputState();\n\n  const setActivityCodeInternal = (evt, data) => {\n    const { value: newActivityCode } = data;\n\n    // only if there is no name yet: assign a default name based on the activity code\n    if (!activityName && newActivityCode) {\n      setActivityName(commonActivityCodes[newActivityCode]);\n    }\n\n    setActivityCode(evt, data);\n  };\n\n  // We have to assign state in this awkward way because of an opinionated conflict\n  //   between FullCalendar and SemanticUI. See comment at the beginning of index.js for details.\n  useEffect(() => {\n    setActivityCode(activity?.activityCode);\n    setActivityName(activity?.name);\n  }, [activity, setActivityCode, setActivityName]);\n\n  return (\n    <Modal\n      open={isModalOpen}\n      dimmer=\"blurring\"\n    >\n      <Modal.Header>Add a custom activity</Modal.Header>\n      <Modal.Content as={Form}>\n        <Form.Select\n          label=\"Type of activity\"\n          name=\"activity-type\"\n          options={otherActivityCodeOptions}\n          value={activityCode}\n          onChange={setActivityCodeInternal}\n        />\n        <Form.Input\n          label=\"Name\"\n          name=\"activity-name\"\n          value={activityName}\n          onChange={setActivityName}\n        />\n        <Container text>\n          On\n          {' '}\n          {startLuxon?.setLocale(dateLocale)?.toLocaleString(DateTime.DATE_HUGE)}\n          {' '}\n          from\n          {' '}\n          {startLuxon?.setLocale(dateLocale)?.toLocaleString(DateTime.TIME_SIMPLE)}\n          {' '}\n          until\n          {' '}\n          {endLuxon?.setLocale(dateLocale)?.toLocaleString(DateTime.TIME_SIMPLE)}\n        </Container>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          icon=\"save\"\n          content=\"Save\"\n          positive\n          onClick={() => onModalClose(true, { activityCode, activityName })}\n        />\n        <Button\n          icon=\"cancel\"\n          content=\"Cancel\"\n          negative\n          onClick={() => onModalClose(false, { activityCode, activityName })}\n        />\n      </Modal.Actions>\n    </Modal>\n  );\n}\n\nexport default EditActivityModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}