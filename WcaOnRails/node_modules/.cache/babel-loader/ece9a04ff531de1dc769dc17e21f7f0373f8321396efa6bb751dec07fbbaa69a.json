{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/SearchWidget/WcaSearch.jsx\";\nimport React, { useCallback } from 'react';\nimport { userSearchApiUrl, personSearchApiUrl } from \"../../lib/requests/routes.js.erb\";\nimport MultiSearchInput from \"./MultiSearchInput\";\nexport default function WcaSearch(_ref) {\n  var name = _ref.name,\n    value = _ref.value,\n    onChange = _ref.onChange,\n    _ref$multiple = _ref.multiple,\n    multiple = _ref$multiple === void 0 ? true : _ref$multiple,\n    model = _ref.model,\n    params = _ref.params;\n  var urlFn = useCallback(function (query) {\n    if (model === 'user') {\n      return \"\".concat(userSearchApiUrl(query), \"&\").concat(new URLSearchParams(params).toString());\n    }\n    if (model === 'person') {\n      return \"\".concat(personSearchApiUrl(query), \"&\").concat(new URLSearchParams(params).toString());\n    }\n    return '';\n  }, [params, model]);\n  var setValue = function setValue(setValueFn) {\n    var newValue = setValueFn();\n    onChange(null, {\n      name: name,\n      value: newValue\n    });\n  };\n  return /*#__PURE__*/React.createElement(MultiSearchInput, {\n    url: urlFn,\n    selectedValue: multiple ? value || [] : value,\n    setSelectedValue: setValue,\n    multiple: multiple,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"names":["React","useCallback","userSearchApiUrl","personSearchApiUrl","MultiSearchInput","WcaSearch","_ref","name","value","onChange","_ref$multiple","multiple","model","params","urlFn","query","concat","URLSearchParams","toString","setValue","setValueFn","newValue","createElement","url","selectedValue","setSelectedValue","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/app/WcaOnRails/app/webpacker/components/SearchWidget/WcaSearch.jsx"],"sourcesContent":["import React, {\n  useCallback,\n} from 'react';\n\nimport { userSearchApiUrl, personSearchApiUrl } from '../../lib/requests/routes.js.erb';\nimport MultiSearchInput from './MultiSearchInput';\n\nexport default function WcaSearch({\n  name,\n  value,\n  onChange,\n  multiple = true,\n  model,\n  params,\n}) {\n  const urlFn = useCallback((query) => {\n    if (model === 'user') {\n      return `${userSearchApiUrl(query)}&${new URLSearchParams(params).toString()}`;\n    } if (model === 'person') {\n      return `${personSearchApiUrl(query)}&${new URLSearchParams(params).toString()}`;\n    }\n    return '';\n  }, [params, model]);\n\n  const setValue = (setValueFn) => {\n    const newValue = setValueFn();\n    onChange(null, { name, value: newValue });\n  };\n\n  return (\n    <MultiSearchInput\n      url={urlFn}\n      selectedValue={multiple ? value || [] : value}\n      setSelectedValue={setValue}\n      multiple={multiple}\n    />\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IACVC,WAAW,QACN,OAAO;AAEd,SAASC,gBAAgB,EAAEC,kBAAkB;AAC7C,OAAOC,gBAAgB;AAEvB,eAAe,SAASC,SAASA,CAAAC,IAAA,EAO9B;EAAA,IANDC,IAAI,GAAAD,IAAA,CAAJC,IAAI;IACJC,KAAK,GAAAF,IAAA,CAALE,KAAK;IACLC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IAAAC,aAAA,GAAAJ,IAAA,CACRK,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,IAAI,GAAAA,aAAA;IACfE,KAAK,GAAAN,IAAA,CAALM,KAAK;IACLC,MAAM,GAAAP,IAAA,CAANO,MAAM;EAEN,IAAMC,KAAK,GAAGb,WAAW,CAAC,UAACc,KAAK,EAAK;IACnC,IAAIH,KAAK,KAAK,MAAM,EAAE;MACpB,UAAAI,MAAA,CAAUd,gBAAgB,CAACa,KAAK,CAAC,OAAAC,MAAA,CAAI,IAAIC,eAAe,CAACJ,MAAM,CAAC,CAACK,QAAQ,CAAC,CAAC;IAC7E;IAAE,IAAIN,KAAK,KAAK,QAAQ,EAAE;MACxB,UAAAI,MAAA,CAAUb,kBAAkB,CAACY,KAAK,CAAC,OAAAC,MAAA,CAAI,IAAIC,eAAe,CAACJ,MAAM,CAAC,CAACK,QAAQ,CAAC,CAAC;IAC/E;IACA,OAAO,EAAE;EACX,CAAC,EAAE,CAACL,MAAM,EAAED,KAAK,CAAC,CAAC;EAEnB,IAAMO,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,UAAU,EAAK;IAC/B,IAAMC,QAAQ,GAAGD,UAAU,CAAC,CAAC;IAC7BX,QAAQ,CAAC,IAAI,EAAE;MAAEF,IAAI,EAAJA,IAAI;MAAEC,KAAK,EAAEa;IAAS,CAAC,CAAC;EAC3C,CAAC;EAED,oBACErB,KAAA,CAAAsB,aAAA,CAAClB,gBAAgB;IACfmB,GAAG,EAAET,KAAM;IACXU,aAAa,EAAEb,QAAQ,GAAGH,KAAK,IAAI,EAAE,GAAGA,KAAM;IAC9CiB,gBAAgB,EAAEN,QAAS;IAC3BR,QAAQ,EAAEA,QAAS;IAAAe,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACpB,CAAC;AAEN"},"metadata":{},"sourceType":"module","externalDependencies":[]}