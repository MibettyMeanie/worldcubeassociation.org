{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/RolesTab/DelegateForm.jsx\";\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React from 'react';\nimport { Form } from 'semantic-ui-react';\nimport I18n from \"../../lib/i18n\";\nexport default function DelegateForm(_ref) {\n  var formValues = _ref.formValues,\n    updateFormProperty = _ref.updateFormProperty,\n    delegateRegions = _ref.delegateRegions,\n    delegateStatusOptions = _ref.delegateStatusOptions;\n  var handleFormChange = function handleFormChange(_, _ref2) {\n    var name = _ref2.name,\n      value = _ref2.value;\n    return updateFormProperty(_defineProperty({}, name, value));\n  };\n  var selectedRegion = React.useMemo(function () {\n    return delegateRegions === null || delegateRegions === void 0 ? void 0 : delegateRegions.find(function (region) {\n      return region.id === (formValues === null || formValues === void 0 ? void 0 : formValues.regionId);\n    });\n  }, [formValues === null || formValues === void 0 ? void 0 : formValues.regionId, delegateRegions]);\n  var selectedRegionId = (selectedRegion === null || selectedRegion === void 0 ? void 0 : selectedRegion.parent_group_id) || (selectedRegion === null || selectedRegion === void 0 ? void 0 : selectedRegion.id);\n  var selectedSubRegionId = selectedRegion !== null && selectedRegion !== void 0 && selectedRegion.parent_group_id ? selectedRegion === null || selectedRegion === void 0 ? void 0 : selectedRegion.id : null;\n  var regions = React.useMemo(function () {\n    if (!delegateRegions) return [];\n    return delegateRegions.filter(function (region) {\n      return !region.parent_group_id;\n    }).map(function (region) {\n      return {\n        key: region.id,\n        text: region.name,\n        value: region.id\n      };\n    });\n  }, [delegateRegions]);\n  var subRegions = React.useMemo(function () {\n    if (!delegateRegions) return [];\n    return (delegateRegions || []).filter(function (region) {\n      return region.parent_group_id === selectedRegionId;\n    }).map(function (region) {\n      return {\n        key: region.id,\n        text: region.name,\n        value: region.id\n      };\n    });\n  }, [delegateRegions, selectedRegionId]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form.Dropdown, {\n    label: I18n.t('activerecord.attributes.user.delegate_status'),\n    fluid: true,\n    selection: true,\n    name: \"delegateStatus\",\n    value: formValues.delegateStatus,\n    options: delegateStatusOptions.map(function (option) {\n      return {\n        text: I18n.t(\"enums.user.role_status.delegate_regions.\".concat(option)),\n        value: option\n      };\n    }),\n    onChange: handleFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Form.Dropdown, {\n    label: I18n.t('activerecord.attributes.user.region'),\n    fluid: true,\n    selection: true,\n    name: \"regionId\",\n    value: selectedRegionId,\n    options: regions,\n    onChange: handleFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), subRegions.length > 0 && /*#__PURE__*/React.createElement(Form.Dropdown, {\n    label: I18n.t('activerecord.attributes.user.subRegion'),\n    fluid: true,\n    selection: true,\n    name: \"regionId\",\n    value: selectedSubRegionId,\n    options: subRegions,\n    onChange: handleFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form.Input, {\n    label: I18n.t('activerecord.attributes.user.location'),\n    name: \"location\",\n    value: formValues.location || '',\n    onChange: handleFormChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","Form","I18n","DelegateForm","_ref","formValues","updateFormProperty","delegateRegions","delegateStatusOptions","handleFormChange","_","_ref2","name","value","_defineProperty","selectedRegion","useMemo","find","region","id","regionId","selectedRegionId","parent_group_id","selectedSubRegionId","regions","filter","map","key","text","subRegions","createElement","Fragment","Dropdown","label","t","fluid","selection","delegateStatus","options","option","concat","onChange","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","Input","location"],"sources":["/app/WcaOnRails/app/webpacker/components/RolesTab/DelegateForm.jsx"],"sourcesContent":["import React from 'react';\n\nimport { Form } from 'semantic-ui-react';\nimport I18n from '../../lib/i18n';\n\nexport default function DelegateForm({\n  formValues,\n  updateFormProperty,\n  delegateRegions,\n  delegateStatusOptions,\n}) {\n  const handleFormChange = (_, { name, value }) => updateFormProperty({ [name]: value });\n\n  const selectedRegion = React.useMemo(\n    () => delegateRegions?.find((region) => region.id === formValues?.regionId),\n    [formValues?.regionId, delegateRegions],\n  );\n\n  const selectedRegionId = selectedRegion?.parent_group_id || selectedRegion?.id;\n  const selectedSubRegionId = selectedRegion?.parent_group_id ? selectedRegion?.id : null;\n\n  const regions = React.useMemo(() => {\n    if (!delegateRegions) return [];\n    return delegateRegions.filter((region) => !region.parent_group_id).map((region) => ({\n      key: region.id,\n      text: region.name,\n      value: region.id,\n    }));\n  }, [delegateRegions]);\n\n  const subRegions = React.useMemo(() => {\n    if (!delegateRegions) return [];\n    return (delegateRegions || [])\n      .filter((region) => region.parent_group_id === selectedRegionId)\n      .map((region) => ({\n        key: region.id,\n        text: region.name,\n        value: region.id,\n      }));\n  }, [delegateRegions, selectedRegionId]);\n\n  return (\n    <>\n      <Form.Dropdown\n        label={I18n.t('activerecord.attributes.user.delegate_status')}\n        fluid\n        selection\n        name=\"delegateStatus\"\n        value={formValues.delegateStatus}\n        options={delegateStatusOptions.map((option) => ({\n          text: I18n.t(`enums.user.role_status.delegate_regions.${option}`),\n          value: option,\n        }))}\n        onChange={handleFormChange}\n      />\n      <Form.Dropdown\n        label={I18n.t('activerecord.attributes.user.region')}\n        fluid\n        selection\n        name=\"regionId\"\n        value={selectedRegionId}\n        options={regions}\n        onChange={handleFormChange}\n      />\n      {subRegions.length > 0 && (\n        <Form.Dropdown\n          label={I18n.t('activerecord.attributes.user.subRegion')}\n          fluid\n          selection\n          name=\"regionId\"\n          value={selectedSubRegionId}\n          options={subRegions}\n          onChange={handleFormChange}\n        />\n      )}\n      <Form.Input\n        label={I18n.t('activerecord.attributes.user.location')}\n        name=\"location\"\n        value={formValues.location || ''}\n        onChange={handleFormChange}\n      />\n    </>\n  );\n}\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,IAAI,QAAQ,mBAAmB;AACxC,OAAOC,IAAI;AAEX,eAAe,SAASC,YAAYA,CAAAC,IAAA,EAKjC;EAAA,IAJDC,UAAU,GAAAD,IAAA,CAAVC,UAAU;IACVC,kBAAkB,GAAAF,IAAA,CAAlBE,kBAAkB;IAClBC,eAAe,GAAAH,IAAA,CAAfG,eAAe;IACfC,qBAAqB,GAAAJ,IAAA,CAArBI,qBAAqB;EAErB,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,CAAC,EAAAC,KAAA;IAAA,IAAIC,IAAI,GAAAD,KAAA,CAAJC,IAAI;MAAEC,KAAK,GAAAF,KAAA,CAALE,KAAK;IAAA,OAAOP,kBAAkB,CAAAQ,eAAA,KAAIF,IAAI,EAAGC,KAAK,CAAE,CAAC;EAAA;EAEtF,IAAME,cAAc,GAAGf,KAAK,CAACgB,OAAO,CAClC;IAAA,OAAMT,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEU,IAAI,CAAC,UAACC,MAAM;MAAA,OAAKA,MAAM,CAACC,EAAE,MAAKd,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEe,QAAQ;IAAA,EAAC;EAAA,GAC3E,CAACf,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEe,QAAQ,EAAEb,eAAe,CACxC,CAAC;EAED,IAAMc,gBAAgB,GAAG,CAAAN,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEO,eAAe,MAAIP,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEI,EAAE;EAC9E,IAAMI,mBAAmB,GAAGR,cAAc,aAAdA,cAAc,eAAdA,cAAc,CAAEO,eAAe,GAAGP,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEI,EAAE,GAAG,IAAI;EAEvF,IAAMK,OAAO,GAAGxB,KAAK,CAACgB,OAAO,CAAC,YAAM;IAClC,IAAI,CAACT,eAAe,EAAE,OAAO,EAAE;IAC/B,OAAOA,eAAe,CAACkB,MAAM,CAAC,UAACP,MAAM;MAAA,OAAK,CAACA,MAAM,CAACI,eAAe;IAAA,EAAC,CAACI,GAAG,CAAC,UAACR,MAAM;MAAA,OAAM;QAClFS,GAAG,EAAET,MAAM,CAACC,EAAE;QACdS,IAAI,EAAEV,MAAM,CAACN,IAAI;QACjBC,KAAK,EAAEK,MAAM,CAACC;MAChB,CAAC;IAAA,CAAC,CAAC;EACL,CAAC,EAAE,CAACZ,eAAe,CAAC,CAAC;EAErB,IAAMsB,UAAU,GAAG7B,KAAK,CAACgB,OAAO,CAAC,YAAM;IACrC,IAAI,CAACT,eAAe,EAAE,OAAO,EAAE;IAC/B,OAAO,CAACA,eAAe,IAAI,EAAE,EAC1BkB,MAAM,CAAC,UAACP,MAAM;MAAA,OAAKA,MAAM,CAACI,eAAe,KAAKD,gBAAgB;IAAA,EAAC,CAC/DK,GAAG,CAAC,UAACR,MAAM;MAAA,OAAM;QAChBS,GAAG,EAAET,MAAM,CAACC,EAAE;QACdS,IAAI,EAAEV,MAAM,CAACN,IAAI;QACjBC,KAAK,EAAEK,MAAM,CAACC;MAChB,CAAC;IAAA,CAAC,CAAC;EACP,CAAC,EAAE,CAACZ,eAAe,EAAEc,gBAAgB,CAAC,CAAC;EAEvC,oBACErB,KAAA,CAAA8B,aAAA,CAAA9B,KAAA,CAAA+B,QAAA,qBACE/B,KAAA,CAAA8B,aAAA,CAAC7B,IAAI,CAAC+B,QAAQ;IACZC,KAAK,EAAE/B,IAAI,CAACgC,CAAC,CAAC,8CAA8C,CAAE;IAC9DC,KAAK;IACLC,SAAS;IACTxB,IAAI,EAAC,gBAAgB;IACrBC,KAAK,EAAER,UAAU,CAACgC,cAAe;IACjCC,OAAO,EAAE9B,qBAAqB,CAACkB,GAAG,CAAC,UAACa,MAAM;MAAA,OAAM;QAC9CX,IAAI,EAAE1B,IAAI,CAACgC,CAAC,4CAAAM,MAAA,CAA4CD,MAAM,CAAE,CAAC;QACjE1B,KAAK,EAAE0B;MACT,CAAC;IAAA,CAAC,CAAE;IACJE,QAAQ,EAAEhC,gBAAiB;IAAAiC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5B,CAAC,eACF/C,KAAA,CAAA8B,aAAA,CAAC7B,IAAI,CAAC+B,QAAQ;IACZC,KAAK,EAAE/B,IAAI,CAACgC,CAAC,CAAC,qCAAqC,CAAE;IACrDC,KAAK;IACLC,SAAS;IACTxB,IAAI,EAAC,UAAU;IACfC,KAAK,EAAEQ,gBAAiB;IACxBiB,OAAO,EAAEd,OAAQ;IACjBiB,QAAQ,EAAEhC,gBAAiB;IAAAiC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5B,CAAC,EACDlB,UAAU,CAACmB,MAAM,GAAG,CAAC,iBACpBhD,KAAA,CAAA8B,aAAA,CAAC7B,IAAI,CAAC+B,QAAQ;IACZC,KAAK,EAAE/B,IAAI,CAACgC,CAAC,CAAC,wCAAwC,CAAE;IACxDC,KAAK;IACLC,SAAS;IACTxB,IAAI,EAAC,UAAU;IACfC,KAAK,EAAEU,mBAAoB;IAC3Be,OAAO,EAAET,UAAW;IACpBY,QAAQ,EAAEhC,gBAAiB;IAAAiC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5B,CACF,eACD/C,KAAA,CAAA8B,aAAA,CAAC7B,IAAI,CAACgD,KAAK;IACThB,KAAK,EAAE/B,IAAI,CAACgC,CAAC,CAAC,uCAAuC,CAAE;IACvDtB,IAAI,EAAC,UAAU;IACfC,KAAK,EAAER,UAAU,CAAC6C,QAAQ,IAAI,EAAG;IACjCT,QAAQ,EAAEhC,gBAAiB;IAAAiC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5B,CACD,CAAC;AAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}