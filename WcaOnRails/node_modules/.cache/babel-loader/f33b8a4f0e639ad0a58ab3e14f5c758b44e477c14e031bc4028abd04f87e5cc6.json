{"ast":null,"code":"var _jsxFileName = \"/app/WcaOnRails/app/webpacker/components/Delegates/DelegatesOfRegion.jsx\";\nimport React, { useCallback } from 'react';\nimport { Grid, Label, Segment } from 'semantic-ui-react';\nimport I18n from \"../../lib/i18n\";\nimport { apiV0Urls } from \"../../lib/requests/routes.js.erb\";\nimport { groupTypes } from \"../../lib/wca-data.js.erb\";\nimport Errored from \"../Requests/Errored\";\nimport Loading from \"../Requests/Loading\";\nimport useLoadedData from \"../../lib/hooks/useLoadedData\";\nimport UserBadge from \"../UserBadge\";\nimport DelegatesTable from \"./DelegatesTable\";\nimport DelegatesOfSubregion from \"./DelegatesOfSubregion\";\nexport var ALL_REGIONS = {\n  id: 'all',\n  name: I18n.t('delegates_page.all_regions')\n};\nfunction SeniorDelegate(_ref) {\n  var seniorDelegate = _ref.seniorDelegate;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid.Row, {\n    only: \"computer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Segment, {\n    raised: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    ribbon: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 11\n    }\n  }, I18n.t('enums.user.delegate_status.senior_delegate')), seniorDelegate && /*#__PURE__*/React.createElement(UserBadge, {\n    user: seniorDelegate.user,\n    hideBorder: true,\n    leftAlign: true,\n    subtexts: seniorDelegate.user.wca_id ? [seniorDelegate.user.wca_id] : [],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }))));\n}\nexport default function DelegatesOfRegion(_ref2) {\n  var _this = this;\n  var activeRegion = _ref2.activeRegion,\n    delegateSubregions = _ref2.delegateSubregions,\n    isAdminMode = _ref2.isAdminMode;\n  var isAllRegions = activeRegion.id === ALL_REGIONS.id;\n  var _useLoadedData = useLoadedData(isAllRegions ? apiV0Urls.userRoles.listOfGroupType(groupTypes.delegate_regions, 'name', {\n      isActive: true\n    }) : apiV0Urls.userRoles.listOfGroup(activeRegion.id, 'location,name', {\n      isActive: true\n    })),\n    delegates = _useLoadedData.data,\n    loading = _useLoadedData.loading,\n    error = _useLoadedData.error;\n  var getSeniorDelegate = useCallback(function () {\n    return delegates === null || delegates === void 0 ? void 0 : delegates.find(function (delegate) {\n      return delegate.metadata.status === 'senior_delegate';\n    });\n  }, [delegates]);\n  if (loading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 23\n    }\n  });\n  if (error) return /*#__PURE__*/React.createElement(Errored, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !isAllRegions && /*#__PURE__*/React.createElement(SeniorDelegate, {\n    seniorDelegate: getSeniorDelegate(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Grid.Row, {\n    style: {\n      overflowX: 'scroll'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DelegatesTable, {\n    delegates: delegates,\n    isAdminMode: isAdminMode,\n    isAllRegions: isAllRegions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), delegateSubregions.map(function (subregion) {\n    return /*#__PURE__*/React.createElement(DelegatesOfSubregion, {\n      subregion: subregion,\n      isAdminMode: isAdminMode,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    });\n  })));\n}","map":{"version":3,"names":["React","useCallback","Grid","Label","Segment","I18n","apiV0Urls","groupTypes","Errored","Loading","useLoadedData","UserBadge","DelegatesTable","DelegatesOfSubregion","ALL_REGIONS","id","name","t","SeniorDelegate","_ref","seniorDelegate","createElement","Fragment","Row","only","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","raised","ribbon","user","hideBorder","leftAlign","subtexts","wca_id","DelegatesOfRegion","_ref2","_this","activeRegion","delegateSubregions","isAdminMode","isAllRegions","_useLoadedData","userRoles","listOfGroupType","delegate_regions","isActive","listOfGroup","delegates","data","loading","error","getSeniorDelegate","find","delegate","metadata","status","style","overflowX","map","subregion"],"sources":["/app/WcaOnRails/app/webpacker/components/Delegates/DelegatesOfRegion.jsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { Grid, Label, Segment } from 'semantic-ui-react';\nimport I18n from '../../lib/i18n';\nimport { apiV0Urls } from '../../lib/requests/routes.js.erb';\nimport { groupTypes } from '../../lib/wca-data.js.erb';\nimport Errored from '../Requests/Errored';\nimport Loading from '../Requests/Loading';\nimport useLoadedData from '../../lib/hooks/useLoadedData';\nimport UserBadge from '../UserBadge';\nimport DelegatesTable from './DelegatesTable';\nimport DelegatesOfSubregion from './DelegatesOfSubregion';\n\nexport const ALL_REGIONS = {\n  id: 'all',\n  name: I18n.t('delegates_page.all_regions'),\n};\n\nfunction SeniorDelegate({ seniorDelegate }) {\n  return (\n    <>\n      <Grid.Row only=\"computer\">\n        <Segment raised>\n          <Label ribbon>\n            {I18n.t('enums.user.delegate_status.senior_delegate')}\n          </Label>\n\n          {seniorDelegate && (\n            <UserBadge\n              user={seniorDelegate.user}\n              hideBorder\n              leftAlign\n              subtexts={seniorDelegate.user.wca_id ? [seniorDelegate.user.wca_id] : []}\n            />\n          )}\n        </Segment>\n      </Grid.Row>\n      { /* TODO: Fix Senior Delegate ribbon CSS for tablet and mobile view,\n           and enable the 'senior delegate' component for all devices */ }\n    </>\n\n  );\n}\n\nexport default function DelegatesOfRegion({ activeRegion, delegateSubregions, isAdminMode }) {\n  const isAllRegions = activeRegion.id === ALL_REGIONS.id;\n  const { data: delegates, loading, error } = useLoadedData(\n    isAllRegions\n      ? apiV0Urls.userRoles.listOfGroupType(groupTypes.delegate_regions, 'name', {\n        isActive: true,\n      })\n      : apiV0Urls.userRoles.listOfGroup(activeRegion.id, 'location,name', {\n        isActive: true,\n      }),\n  );\n\n  const getSeniorDelegate = useCallback(\n    () => delegates?.find((delegate) => delegate.metadata.status === 'senior_delegate'),\n    [delegates],\n  );\n\n  if (loading) return <Loading />;\n  if (error) return <Errored />;\n\n  return (\n    <>\n      {!isAllRegions && <SeniorDelegate seniorDelegate={getSeniorDelegate()} />}\n      <Grid.Row style={{ overflowX: 'scroll' }}>\n        <DelegatesTable\n          delegates={delegates}\n          isAdminMode={isAdminMode}\n          isAllRegions={isAllRegions}\n        />\n        {delegateSubregions.map((subregion) => (\n          <DelegatesOfSubregion subregion={subregion} isAdminMode={isAdminMode} />\n        ))}\n      </Grid.Row>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}